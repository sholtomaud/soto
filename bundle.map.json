{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","scripts/index.js","scripts/ui/index.js","scripts/fastn/index.js","scripts/ui/controls/index.js","node_modules/fastn/index.js","scripts/ui/controls/appBar.js","scripts/ui/controls/activities.js","node_modules/fastn/genericComponent.js","node_modules/fastn/templaterComponent.js","node_modules/fastn/listComponent.js","node_modules/fastn/textComponent.js","node_modules/modal-component/modalComponent.js","node_modules/fastn/property.js","node_modules/fastn/binding.js","node_modules/fastn/baseComponent.js","node_modules/fastn/containerComponent.js","node_modules/fastn/is.js","node_modules/fastn/node_modules/enti/index.js","node_modules/fastn/schedule.js","node_modules/fastn/fancyProps.js","node_modules/fastn/node_modules/object-assign/index.js","node_modules/crel/crel.js","node_modules/fastn/firmer.js","node_modules/fastn/functionEmitter.js","node_modules/fastn/node_modules/flat-merge/index.js","node_modules/fastn/node_modules/multimap/index.js","node_modules/modal-component/node_modules/defaultcss/index.js","node_modules/browserify/node_modules/events/events.js","node_modules/doc-js/fluent.js","node_modules/fastn/node_modules/same-value/index.js","node_modules/fastn/node_modules/what-changed/index.js","node_modules/fastn/node_modules/setprototypeof/index.js","scripts/app/index.js","scripts/ui/menus/index.js","scripts/ui/pages/index.js","node_modules/fastn/node_modules/setify/index.js","node_modules/fastn/node_modules/classist/index.js","node_modules/doc-js/isList.js","node_modules/doc-js/doc.js","node_modules/doc-js/getTargets.js","node_modules/fastn/node_modules/what-changed/node_modules/clone/clone.js","node_modules/fastn/node_modules/what-changed/node_modules/deep-equal/index.js","node_modules/doc-js/getTarget.js","node_modules/fastn/node_modules/setify/node_modules/natural-selection/index.js","scripts/app/models/index.js","scripts/app/activityRouter/index.js","scripts/app/persistence/index.js","scripts/app/services/index.js","node_modules/browserify/node_modules/buffer/index.js","node_modules/fastn/node_modules/what-changed/node_modules/deep-equal/lib/keys.js","node_modules/fastn/node_modules/what-changed/node_modules/deep-equal/lib/is_arguments.js","scripts/ui/menus/main.js","scripts/ui/pages/history.js","scripts/ui/pages/home.js","scripts/ui/pages/note.js","scripts/ui/pages/info.js","scripts/ui/pages/resume.js","node_modules/browserify/node_modules/buffer/node_modules/ieee754/index.js","node_modules/browserify/node_modules/buffer/node_modules/isarray/index.js","node_modules/browserify/node_modules/buffer/node_modules/base64-js/lib/b64.js","scripts/app/models/search.js","scripts/app/models/session.js","scripts/app/models/controls.js","scripts/app/models/data.js","scripts/app/models/latest.js","scripts/app/models/menus.js","scripts/app/models/stats.js","scripts/app/activityRouter/routes.js","scripts/app/persistence/nrds/index.js","scripts/app/services/session/index.js","scripts/app/services/menus/index.js","node_modules/activity-router/index.js","node_modules/titlecase/to-title-case.js","node_modules/simple-date/simple-date.js","node_modules/titlecase/articles.js","node_modules/titlecase/prepositions.js","node_modules/titlecase/conjunctions.js","node_modules/activity-router/node_modules/route-tree/router.js","node_modules/debounce/index.js","scripts/config/index.js","node_modules/activity-router/node_modules/route-tree/intersect.js","scripts/app/persistence/nrds/record.js","scripts/app/persistence/nrds/account.js","node_modules/debounce/node_modules/date-now/index.js","node_modules/cpjax/index.js","node_modules/cpjax/node_modules/simple-ajax/index.js","node_modules/cpjax/node_modules/simple-ajax/node_modules/query-string/query-string.js"],"names":["require","fastn","window","addEventListener","controls","attach","render","document","body","appendChild","element","module","exports","_generic","templater","list","text","modal","inflateProperties","component","settings","key","setting","property","is","destroy","addTo","binding","validateExpectedComponents","components","componentName","expectedComponents","filter","length","console","warn","join","createProperty","createBinding","BaseComponent","crel","Enti","objectAssign","debug","type","args","i","arguments","childrenIndex","settingsChild","toComponent","Array","isArray","baseType","types","split","children","slice","base","shift","extend","_properties","Error","_container","Date","auto","isElement","isNode","textContent","isComponent","isBinding","isDefaultBinding","defaultBinding","isBindingObject","bindingObject","isProperty","Model","componentConstructor","app","class","on","event","scope","preventDefault","stopImmediatePropagation","main","show","activityRouter","top","pages","items","template","data","attachTemplates","model","lastComponent","name","get","route","router","activity","createProperties","addDomProperty","addDomHandler","handlerName","eventName","capture","eventParts","handler","emit","removeEventListener","addDomHandlers","eventNames","events","match","matchDomHandlerName","addAutoHandler","autoEvent","fancyProp","fancyProps","value","update","getPropertyElement","destroyed","previous","getAttribute","setAttribute","this","setProperty","updater","onRender","_settings","getEventElement","eventKey","_events","createElement","tagName","_tagName","genericComponent","GENERIC","bind","getContainerElement","updateProperty","containerComponent","schedule","contains","Node","replaceElement","parentNode","replaceChild","itemModel","set","newComponent","_currentComponent","emptyElement","createTextNode","undefined","dataChanges","each","fn","keyFor","object","index","indexOf","MultiMap","merge","Map","updateItems","updateItem","item","child","existing","_children","_templated","existingItem","childModel","dataMap","_listItem","itemsMap","insert","emptyTemplate","newTemplate","lastTemplate","currentItems","forEach","childComponent","currentKey","removeComponent","remove","WeakMap","itemChanges","updateText","autoRender","content","autoText","textComponent","pop","doc","defaultCss","waitForAnimation","callback","timeout","clearTimeout","setTimeout","animationTime","setModalState","newState","modalElement","removeClass","state","addClass","clearContentChild","contentChild","updateShow","lastShowTime","now","removeChild","_type","_attachChildren","containerElement","contentElement","closable","target","closest","_insert","childNodes","insertBefore","propertyTemplate","_value","valueUpdate","changeChecker","current","changes","WhatChanged","Object","keys","lastValue","newValue","same","propertyBinding","newBinding","removeListener","_firm","attachProperty","firm","firmer","detachProperty","detach","_update","propertyUpdater","destroyProperty","removeAllListeners","propertyDestroyed","addPropertyTo","currentValue","propertyScope","hasChanged","setPrototypeOf","propertyProto","functionEmitter","create","_fastn_property","fuseBinding","change","selfChanging","resultBinding","transform","apply","bindings","map","updateTransform","prototype","call","_arguments","_model","_set","_change","splice","lastAttached","createValueBinding","valueBinding","bindingTemplate","_fastn_binding","path","more","modelAttachHandler","modelDetachHandler","bindingScope","setMaxListeners","Infinity","isEnti","attachedModel","isAttached","clone","keepAttachment","soft","listeners","from","valueOrBinding","flatten","reduce","result","concat","attachProperties","detachProperties","destroyProperties","getSetBinding","emitAttach","emitDetach","newBound","lastBound","getScope","attachComponent","detachComponent","isDestroyed","extendComponent","isType","FastnComponent","componentScope","_default_binding","_component","EventEmitter","constructor","_fastn_component","insertChild","container","currentIndex","isNaN","_remove","empty","oldChild","newChild","thing","OBJECT","FASTNCOMPONENT","FASTNBINDING","FUNCTION","FASTNPROPERTY","DEFAULTBINDING","toArray","matchDeep","deepRegex","isWildcardPath","stringPath","getTargetKey","leftAndRest","isWildcardKey","charAt","isFeralcardKey","addHandler","trackedKeys","trackedObjects","handlers","Set","add","removeHandler","trackObjects","tracked","trackKeys","root","rest","targetIsObject","has","handle","emitKey","rootAndRest","createHandler","enti","trackedObjectPaths","trackedPaths","oldModel","entis","_emittedEvents","size","trackedEvents","targetKey","trackPath","WeakSet","trackPaths","modifiedEnties","emitEvent","emitForKey","detached","eventSystemVersion","globalKey","globalState","global","instances","original","keysChanged","push","subKey","move","updateTarget","updatedObjects","_maxListeners","_attached","attachedCount","store","run","startTime","todo","todoKeys","requestAnimationFrame","scheduled","updates","updateTextProperty","generic","setify","classist","_classist","display","style","disabled","hasAttribute","removeAttribute","innerText","innerHTML","inputType","nodeName","replace","getFullYear","getMonth","getDate","parseFloat","max","ToObject","val","TypeError","ownEnumerableKeys","obj","getOwnPropertyNames","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","assign","source","to","s","factory","define","amd","childIndex","argumentsLength","attributeMap","attrMapString","isElementString","d","isNodeString","attr","nodeType","a","ownerDocument","entity","functionEmitterPrototype","flatMerge","b","aKeys","bKeys","mapEach","operation","next","done","Multimap","iterable","self","_map","mapCtor","_","makeIterator","iterator","nextIndex","safariNext","entry","idx","hasKey","hasOwnProperty","values","vals","forEachEntry","iter","clear","defineProperty","configurable","enumerable","total","Function","error","label","styleId","styleEl","getElementById","firstStyleDef","querySelector","head","isFunction","arg","isNumber","isObject","isUndefined","defaultMaxListeners","n","er","len","addListener","listener","m","newListener","warned","trace","once","g","fired","position","ret","listenerCount","evlistener","emitter","Floc","floc","instance","getTargets","isList","flocProto","returnsSelf","c","e","f","proxy","off","reference","ready","className","String","keysAreDifferent","keys1","keys2","getKeys","changesToTrack","_changesToTrack","deepEqual","newKeys","_lastReference","_lastValue","_lastKeys","some","shallowStructure","structure","setProtoOf","proto","__proto__","mixinProperties","prop","models","persistence","services","home","history","info","note","resume","naturalSelection","canSet","activeElement","start","selectionStart","end","selectionEnd","setSelectionRange","lastClasses","classes","cleanClassName","trim","newClasses","currentClasses","isIn","array","find","query","results","subResults","j","querySelectorAll","findOne","getTarget","parentless","createDocumentFragment","arrayProto","space","classList","classToAdd","classToRemove","removeIndex","addEvent","multiRemoveCallbacks","removeCallbacks","eventSettings","closestTarget","removeCallback","targets","targetIndex","currentTarget","append","prepend","firstChild","isVisible","indexOfElement","parent","parentElement","readyState","attachEvent","setDocument","singleClass","singleId","singleTag","exec","getElementsByTagName","getElementsByClassName","circular","depth","_clone","__isArray","__isRegExp","RegExp","__getRegExpFlags","lastIndex","__isDate","getTime","useBuffer","Buffer","isBuffer","copy","getPrototypeOf","allParents","allChildren","attrs","getOwnPropertyDescriptor","__objToStr","o","toString","re","flags","ignoreCase","multiline","clonePrototype","isUndefinedOrNull","x","objEquiv","opts","isArguments","pSlice","ka","objectKeys","kb","sort","actual","expected","strict","supportedTypes","search","latest","menus","stats","session","updateInfo","createActivityRouter","routes","activitiesModel","activities","activitiesBinding","activityData","homeRoute","init","nrds","typedArraySupport","arr","Uint8Array","foo","subarray","byteLength","kMaxLength","TYPED_ARRAY_SUPPORT","fromNumber","fromString","fromObject","that","allocate","checked","string","encoding","write","fromBuffer","fromArray","ArrayBuffer","buffer","fromTypedArray","fromArrayBuffer","fromArrayLike","fromJsonObject","fromPool","poolSize","rootParent","RangeError","SlowBuffer","subject","buf","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","binarySlice","base64Slice","utf16leSlice","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","binaryWrite","base64Write","ucs2Write","utf16leToBytes","base64","fromByteArray","Math","min","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","base64clean","str","stringtrim","INVALID_BASE64_RE","units","leadSurrogate","charCodeAt","byteArray","hi","lo","toByteArray","src","dst","INSPECT_MAX_BYTES","_isBuffer","compare","y","isEncoding","pos","equals","inspect","byteOffset","arrayIndexOf","foundIndex","isFinite","swap","toJSON","_arr","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","fill","shim","supported","unsupported","supportsArgumentsClass","icon","activityModel","dateStr","date","getDay","month","_id","href","simpleDate","titlecase","dat","format","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","abs","log","LN2","decode","elt","code","PLUS","PLUS_URL_SAFE","SLASH","SLASH_URL_SAFE","NUMBER","UPPER","LOWER","b64ToByteArray","b64","v","L","l","tmp","placeHolders","Arr","uint8ToBase64","uint8","encode","num","lookup","tripletToBase64","temp","extraBytes","output","base64js","searchSite","Search","site","token","searchModel","searchReset","searchString","searchResult","markersResult","reset","Session","sessionModel","loginError","sessionData","setSession","loginMessage","userName","userAccessLevel","company","id","Controls","control","controlsModel","setAppControls","login","23049823","action","targetType","enabled","23049825","loader","23049824","tooltip","targetId","23049826","applicationId","dataModel","ntf","notes","fs","currentNote","title","mdi","snippit","fullText","url","jsonresume","basics","picture","email","phone","location","address","postalCode","city","countryCode","region","profiles","network","username","work","startDate","endDate","summary","website","highlights","education","institution","area","studyType","publications","publisher","releaseDate","skills","level","keywords","languages","language","fluency","interests","references","latestModel","visible","menusModel","setCurrentMenu","menu","showCurrent","companies","companyId","statsModel","currentPhoto","age","height","mass","born","residing","_url","_title","page","Record","Account","accountData","db","createUser","userData","config","Router","debounce","getActivities","updateRoute","addActivity","updateHash","updateActivity","replaceActivity","removeActivity","getPaths","hash","buildPath","basePath","buildRoutes","paths","resolve","newName","newValues","routeCounter","updateRoutes","titleCase","smallWords","toUpperCase","toTitleCase","laxWords","laxWordsRe","toLaxTitleCase","formatDate","isObj","dateMonth","dateDay","dateYear","inputDate","newDate","months","errHandler","formatArgErr","dash","dashRegex","test","slash","slashRegex","mdy","mdyRegex","dmy","dmyRegex","err","sameErr","dateFormatErr","input","help","day","year","sanitise","sanitiseRegex","isRestKey","isRestToken","formatString","rootPath","absolutePath","protocol","host","scanRoutes","cleanTokens","intersect","formatRegex","keysRegex","nonNameKey","currentPath","details","routeName","bestMatch","urls","mostMatches","routeKey","regex","keyNameMatch","upOneName","upOne","drill","getRouteTemplate","routeTemplate","urlsByDistance","urlA","urlB","keysA","keysB","commonAKeys","commonBKeys","aDistance","bDistance","getTemplate","_defaults","defaultValue","childName","parentName","lastRoute","currentRoute","isRoot","getArguments","func","wait","immediate","later","last","timestamp","context","callNow","arrayA","arrayB","intersector","innerCheck","aItem","cpjax","dataType","headers","authorization","method","loginId","userId","Ajax","ajax","responseText","send","tryParseJson","JSON","parse","request","abort","queryStringData","XMLHttpRequest","cors","withCredentials","XDomainRequest","cache","urlParts","queryString","stringify","status","_requestTimeout","open","contentType","setRequestHeader","requestedWith","auth","headerKey","processData","param","parts","decodeURIComponent","val2","encodeURIComponent"],"mappings":"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","file":"bundle.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","require(\"./ui\");","var fastn = require(\"../fastn\");\n\n\n// var y = [0, 380, 414, 580, 720, 768, 990]; //breakpoints. \n// var w, x = 1, z = y.length;\n\n// function init(){\n//     for ( ; x < z; x++ ) {\n//          w = window.matchMedia ( '(min-width:' + y[x] + 'px)' );\n//          w.addListener (event);\n         \n//     }\n\n//     w = window.innerWidth;\n//     console.log('w: ', w);\n\n//     for(--z; z; z--) {\n//           x = y[z];\n//           if( w <= x) {\n//             // eval('px'+x+'(false)') \n//         } \n//     }\n\n// }\n\n\nwindow.addEventListener('load', function(){\n    // init();\n    var controls = require(\"./controls\");\n\n    controls.attach().render();\n\n    document.body.appendChild(controls.element);\n});\n","module.exports = require(\"fastn\")({\n    _generic: require(\"fastn/genericComponent\"),\n    templater: require(\"fastn/templaterComponent\"),\n    list: require(\"fastn/listComponent\"),\n    text: require(\"fastn/textComponent\"),\n    modal: require(\"modal-component/modalComponent\")\n}, true);","var fastn = require(\"../../fastn\");\n\nmodule.exports = fastn('div', \n    require(\"./appBar\")(),\n    require(\"./activities\")\n);\n","var createProperty = require('./property'),\n    createBinding = require('./binding'),\n    BaseComponent = require('./baseComponent'),\n    crel = require('crel'),\n    Enti = require('enti'),\n    objectAssign = require('object-assign'),\n    is = require('./is');\n\nfunction inflateProperties(component, settings){\n    for(var key in settings){\n        var setting = settings[key],\n            property = component[key];\n\n        if(is.property(settings[key])){\n\n            if(is.property(property)){\n                property.destroy();\n            }\n\n            setting.addTo(component, key);\n\n        }else if(is.property(property)){\n\n            if(is.binding(setting)){\n                property.binding(setting);\n            }else{\n                property(setting);\n            }\n\n            property.addTo(component, key);\n        }\n    }\n}\n\nfunction validateExpectedComponents(components, componentName, expectedComponents){\n    expectedComponents = expectedComponents.filter(function(componentName){\n        return !(componentName in components);\n    });\n\n    if(expectedComponents.length){\n        console.warn([\n            'fastn(\"' + componentName + '\") uses some components that have not been registered with fastn',\n            'Expected conponent constructors: ' + expectedComponents.join(', ')\n        ].join('\\n\\n'));\n    }\n}\n\nmodule.exports = function(components, debug){\n\n    if(!components || typeof components !== 'object'){\n        throw new Error('fastn must be initialised with a components object');\n    }\n\n    components._container = components._container || require('./containerComponent');\n\n    function fastn(type){\n\n        var args = [];\n        for(var i = 0; i < arguments.length; i++){\n            args[i] = arguments[i];\n        }\n\n        var settings = args[1],\n            childrenIndex = 2,\n            settingsChild = fastn.toComponent(args[1]);\n\n        if(Array.isArray(args[1]) || settingsChild || !args[1]){\n            args[1] = settingsChild || args[1];\n            childrenIndex--;\n            settings = null;\n        }\n\n        settings = objectAssign({}, settings || {});\n\n        var types = typeof type === 'string' ? type.split(':') : Array.isArray(type) ? type : [type],\n            baseType,\n            children = args.slice(childrenIndex),\n            component = fastn.base(type, settings, children);\n\n        while(baseType = types.shift()){\n            component.extend(baseType, settings, children);\n        }\n\n        component._properties = {};\n\n        inflateProperties(component, settings);\n\n        return component;\n    }\n\n    fastn.toComponent = function(component){\n        if(component == null){\n            return;\n        }\n        if(is.component(component)){\n            return component;\n        }\n        if(typeof component !== 'object' || component instanceof Date){\n            return fastn('text', {auto: true}, component);\n        }\n        if(crel.isElement(component)){\n            return fastn(component);\n        }\n        if(crel.isNode(component)){\n            return fastn('text', {auto: true}, component.textContent);\n        }\n    };\n\n    fastn.debug = debug;\n    fastn.property = createProperty;\n    fastn.binding = createBinding;\n    fastn.isComponent = is.component;\n    fastn.isBinding = is.binding;\n    fastn.isDefaultBinding = is.defaultBinding;\n    fastn.isBindingObject = is.bindingObject;\n    fastn.isProperty = is.property;\n    fastn.components = components;\n    fastn.Model = Enti;\n\n    fastn.base = function(type, settings, children){\n        return new BaseComponent(fastn, type, settings, children);\n    };\n\n    for(var key in components){\n        var componentConstructor = components[key];\n\n        if(componentConstructor.expectedComponents){\n            validateExpectedComponents(components, key, componentConstructor.expectedComponents);\n        }\n    }\n\n    return fastn;\n};","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\");\n\nmodule.exports = function(){\n    return fastn('div', {class: 'appBar'},\n        fastn('div',{class:'menu'},fastn('i', {'class': 'mdi mdi-menu'}) )\n        .on('click', function(event, scope) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            require(\"../menus\").main.show(true);\n        }),\n\n        fastn('div',{class:'title'}, 'Mr Sholto Maud' )\n        .on('click',function(event, scope) {\n            event.preventDefault();\n            app.activityRouter.top('home');\n        }),\n        \n        fastn('div',{class:'info'},fastn('i', {'class': 'mdi mdi-information'}) )\n        .on('click',function(event, scope) {\n            event.preventDefault();\n            app.activityRouter.top('info');\n        }))\n};","var app = require(\"../../app\"),\n    fastn = require(\"../../fastn\"),\n    pages = require(\"../pages\");\n\nmodule.exports = fastn('list', {\n    class: 'activities',\n    items: app.activityRouter.binding,\n    template: function(){\n        return fastn('templater', {\n            data: fastn.binding('item|*'),\n            attachTemplates: false,\n            template: function(model, scope, lastComponent){\n                var name = model.get('item.name'),\n                    route = app.activityRouter.router.get(name, model.get('item.values'));\n\n                if(lastComponent && lastComponent.route === route){\n                    return lastComponent;\n                }\n\n                var activity = fastn('div', {\n                        'class': fastn.binding('item.name', function(name){\n                            return ['activity', name];\n                        })\n                    },\n                    pages[name] && pages[name]( model)\n                );\n                \n                activity.route = route;\n\n                return activity;\n            }\n        });\n    }\n});","var containerComponent = require('./containerComponent'),\n    schedule = require('./schedule'),\n    fancyProps = require('./fancyProps'),\n    matchDomHandlerName = /^((?:el\\.)?)([^. ]+)(?:\\.(capture))?$/,\n    GENERIC = '_generic';\n\nfunction createProperties(fastn, component, settings){\n    for(var key in settings){\n        var setting = settings[key];\n\n        if(typeof setting === 'function' && !fastn.isProperty(setting) && !fastn.isBinding(setting)){\n            continue;\n        }\n\n        component.addDomProperty(key);\n    }\n}\n\nfunction addDomHandler(component, element, handlerName, eventName, capture){\n    var eventParts = handlerName.split('.');\n\n    if(eventParts[0] === 'on'){\n        eventParts.shift();\n    }\n\n    var handler = function(event){\n            component.emit(handlerName, event, component.scope());\n        };\n\n    element.addEventListener(eventName, handler, capture);\n\n    component.on('destroy', function(){\n        element.removeEventListener(eventName, handler, capture);\n    });\n}\n\nfunction addDomHandlers(component, element, eventNames){\n    var events = eventNames.split(' ');\n\n    for(var i = 0; i < events.length; i++){\n        var eventName = events[i],\n            match = eventName.match(matchDomHandlerName);\n\n        if(!match){\n            continue;\n        }\n\n        if(match[1] || 'on' + match[2] in element){\n            addDomHandler(component, element, eventNames, match[2], match[3]);\n        }\n    }\n}\n\nfunction addAutoHandler(component, element, key, settings){\n    if(!settings[key]){\n        return;\n    }\n\n    var autoEvent = settings[key].split(':'),\n        eventName = key.slice(2);\n\n    delete settings[key];\n\n    var handler = function(event){\n        var fancyProp = fancyProps[autoEvent[1]],\n            value = fancyProp ? fancyProp(component, element) : element[autoEvent[1]];\n\n        component[autoEvent[0]](value);\n    };\n\n    element.addEventListener(eventName, handler);\n\n    component.on('destroy', function(){\n        element.removeEventListener(eventName, handler);\n    });\n}\n\nfunction addDomProperty(fastn, key, property){\n    var component = this;\n\n    property = property || component[key] || fastn.property();\n    component.setProperty(key, property);\n\n    function update(){\n        var element = component.getPropertyElement(key),\n            value = property();\n\n        if(!element || component.destroyed()){\n            return;\n        }\n\n        var isProperty = key in element,\n            fancyProp = fancyProps[key],\n            previous = fancyProp ? fancyProp(component, element) : isProperty ? element[key] : element.getAttribute(key);\n\n        if(!fancyProp && !isProperty && value == null){\n            value = '';\n        }\n\n        if(value !== previous){\n            if(fancyProp){\n                fancyProp(component, element, value);\n                return;\n            }\n\n            if(isProperty){\n                element[key] = value;\n                return;\n            }\n\n            if(typeof value !== 'function' && typeof value !== 'object'){\n                element.setAttribute(key, value);\n            }\n        }\n    }\n\n    property.updater(update);\n}\n\nfunction onRender(){\n    var component = this,\n        element;\n\n    for(var key in component._settings){\n        element = component.getEventElement(key);\n        if(key.slice(0,2) === 'on' && key in element){\n            addAutoHandler(component, element, key, component._settings);\n        }\n    }\n\n    for(var eventKey in component._events){\n        element = component.getEventElement(key);\n        addDomHandlers(component, element, eventKey);\n    }\n}\n\nfunction render(){\n    this.element = this.createElement(this._settings.tagName || this._tagName);\n\n    this.emit('render');\n\n    return this;\n};\n\nfunction genericComponent(fastn, component, type, settings, children){\n    if(component.is(type)){\n        return component;\n    }\n\n    if(type === GENERIC){\n        component._tagName = component._tagName || 'div';\n    }else{\n        component._tagName = type;\n    }\n\n    if(component.is(GENERIC)){\n        return component;\n    }\n\n    component.extend('_container', settings, children);\n\n    component.addDomProperty = addDomProperty.bind(component, fastn);\n    component.getEventElement = component.getContainerElement;\n    component.getPropertyElement = component.getContainerElement;\n    component.updateProperty = genericComponent.updateProperty;\n    component.createElement = genericComponent.createElement;\n\n    createProperties(fastn, component, settings);\n\n    component.render = render.bind(component);\n\n    component.on('render', onRender);\n\n    return component;\n}\n\ngenericComponent.updateProperty = function(component, property, update){\n    if(typeof document !== 'undefined' && document.contains(component.element)){\n        schedule(property, update);\n    }else{\n        update();\n    }\n};\n\ngenericComponent.createElement = function(tagName){\n    if(tagName instanceof Node){\n        return tagName;\n    }\n    return document.createElement(tagName);\n};\n\nmodule.exports = genericComponent;","module.exports = function(fastn, component, type, settings, children){\n    var itemModel = new fastn.Model({});\n\n    function replaceElement(element){\n        if(component.element && component.element.parentNode){\n            component.element.parentNode.replaceChild(element, component.element);\n        }\n        component.element = element;\n    }\n\n    function update(){\n\n        var value = component.data(),\n            template = component.template();\n\n        itemModel.set('item', value);\n\n        var newComponent = template && fastn.toComponent(template(itemModel, component.scope(), component._currentComponent));\n\n        if(component._currentComponent && component._currentComponent !== newComponent){\n            if(fastn.isComponent(component._currentComponent)){\n                component._currentComponent.destroy();\n            }\n        }\n\n        component._currentComponent = newComponent;\n\n        if(!newComponent){\n            replaceElement(component.emptyElement);\n            return;\n        }\n\n        if(fastn.isComponent(newComponent)){\n            if(component._settings.attachTemplates !== false){\n                newComponent.attach(itemModel, 2);\n            }else{\n                newComponent.attach(component.scope(), 1);\n            }\n\n            if(component.element && component.element !== newComponent.element){\n                if(newComponent.element == null){\n                    newComponent.render();\n                }\n                replaceElement(component._currentComponent.element);\n            }\n        }\n    }\n\n    component.render = function(){\n        var element;\n        component.emptyElement = document.createTextNode('');\n        if(component._currentComponent){\n            component._currentComponent.render();\n            element = component._currentComponent.element;\n        }\n        component.element = element || component.emptyElement;\n        component.emit('render');\n    };\n\n    component.setProperty('data',\n        fastn.property(undefined, settings.dataChanges || 'value structure')\n            .on('change', update)\n    );\n\n    component.setProperty('template',\n        fastn.property(undefined, 'value reference')\n            .on('change', update)\n    );\n\n    component.on('destroy', function(){\n        if(fastn.isComponent(component._currentComponent)){\n            component._currentComponent.destroy();\n        }\n    });\n\n    component.on('attach', function(data){\n        if(fastn.isComponent(component._currentComponent)){\n            component._currentComponent.attach(component.scope(), 1);\n        }\n    });\n\n    return component;\n};","var MultiMap = require('multimap'),\n    merge = require('flat-merge');\n\nMultiMap.Map = Map;\n\nfunction each(value, fn){\n    if(!value || typeof value !== 'object'){\n        return;\n    }\n\n    if(Array.isArray(value)){\n        for(var i = 0; i < value.length; i++){\n            fn(value[i], i)\n        }\n    }else{\n        for(var key in value){\n            fn(value[key], key);\n        }\n    }\n}\n\nfunction keyFor(object, value){\n    if(!object || typeof object !== 'object'){\n        return false;\n    }\n\n    if(Array.isArray(object)){\n        var index = object.indexOf(value);\n        return index >=0 ? index : false;\n    }\n\n    for(var key in object){\n        if(object[key] === value){\n            return key;\n        }\n    }\n\n    return false;\n}\n\nmodule.exports = function(fastn, component, type, settings, children){\n\n    if(fastn.components._generic){\n        component.extend('_generic', settings, children);\n    }else{\n        component.extend('_container', settings, children);\n    }\n\n    var itemsMap = new MultiMap(),\n        dataMap = new WeakMap(),\n        lastTemplate,\n        existingItem = {};\n\n    function updateItems(){\n        var value = component.items(),\n            template = component.template(),\n            emptyTemplate = component.emptyTemplate(),\n            newTemplate = lastTemplate !== template;\n\n        var currentItems = merge(template ? value : []);\n\n        itemsMap.forEach(function(childComponent, item){\n            var currentKey = keyFor(currentItems, item);\n\n            if(!newTemplate && currentKey !== false){\n                currentItems[currentKey] = [existingItem, item, childComponent];\n            }else{\n                removeComponent(childComponent);\n                itemsMap.delete(item);\n            }\n        });\n\n        var index = 0;\n\n        function updateItem(item, key){\n            var child,\n                existing;\n\n            while(index < component._children.length && !component._children[index]._templated){\n                index++;\n            }\n\n            if(Array.isArray(item) && item[0] === existingItem){\n                existing = true;\n                child = item[2];\n                item = item[1];\n            }\n\n            var childModel;\n\n            if(!existing){\n                childModel = new fastn.Model({\n                    item: item,\n                    key: key\n                });\n\n                child = fastn.toComponent(template(childModel, component.scope()));\n                if(!child){\n                    child = fastn('template');\n                }\n                child._listItem = item;\n                child._templated = true;\n\n                dataMap.set(child, childModel);\n                itemsMap.set(item, child);\n            }else{\n                childModel = dataMap.get(child);\n                childModel.set('key', key);\n            }\n\n            if(fastn.isComponent(child) && component._settings.attachTemplates !== false){\n                child.attach(childModel, 2);\n            }\n\n            component.insert(child, index);\n            index++;\n        }\n\n        each(currentItems, updateItem);\n\n        lastTemplate = template;\n\n        if(index === 0 && emptyTemplate){\n            var child = fastn.toComponent(emptyTemplate(component.scope()));\n            if(!child){\n                child = fastn('template');\n            }\n            child._templated = true;\n\n            itemsMap.set({}, child);\n\n            component.insert(child);\n        }\n    }\n\n    function removeComponent(childComponent){\n        component.remove(childComponent);\n        childComponent.destroy();\n    }\n\n    component.setProperty('items',\n        fastn.property([], settings.itemChanges || 'type keys shallowStructure')\n            .on('change', updateItems)\n    );\n\n    component.setProperty('template',\n        fastn.property().on('change', updateItems)\n    );\n\n    component.setProperty('emptyTemplate',\n        fastn.property().on('change', updateItems)\n    );\n\n    return component;\n};","function updateText(){\n    if(!this.element){\n        return;\n    }\n\n    var value = this.text();\n\n    this.element.textContent = (value == null ? '' : value);\n}\n\nfunction autoRender(content){\n    this.element = document.createTextNode(content);\n}\n\nfunction autoText(text, fastn, content) {\n    text.render = autoRender.bind(text, content);\n\n    return text;\n}\n\nfunction render(){\n    this.element = this.createTextNode(this.text());\n    this.emit('render');\n};\n\nfunction textComponent(fastn, component, type, settings, children){\n    if(settings.auto){\n        delete settings.auto;\n        if(!fastn.isBinding(children[0])){\n            return autoText(component, fastn, children[0]);\n        }\n        settings.text = children.pop();\n    }\n\n    component.createTextNode = textComponent.createTextNode;\n    component.render = render.bind(component);\n\n    component.setProperty('text', fastn.property('', updateText.bind(component)));\n\n    return component;\n}\n\ntextComponent.createTextNode = function(text){\n    return document.createTextNode(text);\n};\n\nmodule.exports = textComponent;","var crel = require('crel'),\n    doc = require('doc-js'),\n    defaultCss = require('defaultcss');\n\ndefaultCss('modal-component', '.modal-component{position:fixed;top:0;bottom:0;left:0;right:0;}.modal-component .content{background:white}');\n\nmodule.exports = function(fastn, component, type, settings, children){\n    var lastShowTime;\n\n    component.extend('_generic', settings, children);\n\n    component._type = 'modal';\n    component._attachChildren = false;\n    component.render = function(){\n        component.element = document.createTextNode('');\n\n        component.modalElement = crel('div', {'class':'modal-component'},\n            component.containerElement = component.contentElement = crel('div', {'class':'content'})\n        );\n\n        component.emit('render');\n\n        var handler = function(event){\n            if(\n                component.show() &&\n                component.closable() &&\n                !doc(event.target).closest(component.contentElement)\n            ){\n                component.show(false);\n            }\n        };\n\n        document.addEventListener('click', handler, true);\n\n        component.on('destroy', function(){\n            document.removeEventListener('click', handler, true);\n            updateShow(false);\n        });\n\n        return component;\n    };\n    component._insert = function(element, index){\n        if(!component.contentElement){\n            return;\n        }\n\n        if(component.contentElement.childNodes[index] === element){\n            return;\n        }\n\n        component.contentElement.insertBefore(element, component.contentElement.childNodes[index]);\n    };\n\n    var timeout;\n    function waitForAnimation(callback){\n        if(timeout){\n            clearTimeout(timeout);\n        }\n\n        // Allow hide timeout for animations\n        timeout = setTimeout(callback, settings.animationTime || 0);\n    }\n\n    var state = 'hidden';\n    function setModalState(newState){\n        doc(component.modalElement).removeClass(state).addClass(newState);\n        state = newState;\n        component.emit('state', state);\n    }\n\n    var contentChild;\n\n    function clearContentChild(){\n        if(contentChild){\n            component.remove(contentChild);\n            contentChild.destroy();\n            contentChild = null;\n        }\n    }\n\n    function updateShow(show){\n        if(!component.element){\n            return;\n        }\n\n        if(show){\n            lastShowTime = Date.now();\n\n            clearContentChild();\n\n            if(component._settings.content){\n                contentChild = fastn.toComponent(component._settings.content(component.scope()));\n                component.insert(contentChild);\n            }\n\n            if(!component.modalElement.parentNode){\n                crel(document.body, component.modalElement);\n            }\n\n            setModalState('showing');\n\n            waitForAnimation(function(){\n                setModalState('shown');\n            });\n        }else{\n            setModalState('hiding');\n\n            waitForAnimation(function(){\n                setModalState('hidden');\n\n                if(component.modalElement.parentNode){\n                    component.modalElement.parentNode.removeChild(component.modalElement);\n                }\n\n                clearContentChild();\n            });\n        }\n    }\n\n    component.setProperty('show');\n    component.setProperty('closable');\n    component.closable(true);\n    component.show.updater(updateShow);\n\n    return component;\n};\n\nmodule.exports.expectedComponents = ['text', '_generic', 'list', 'templater'];\n","var Enti = require('enti'),\n    WhatChanged = require('what-changed'),\n    same = require('same-value'),\n    firmer = require('./firmer'),\n    createBinding = require('./binding'),\n    functionEmitter = require('./functionEmitter'),\n    setPrototypeOf = require('setprototypeof'),\n    is = require('./is');\n\nvar propertyProto = Object.create(functionEmitter);\n\npropertyProto._fastn_property = true;\npropertyProto._firm = 1;\n\nfunction propertyTemplate(value){\n    if(!arguments.length){\n        return this.binding && this.binding() || this.property._value;\n    }\n\n    if(!this.destroyed){\n        if(this.binding){\n            this.binding(value);\n            return this.property;\n        }\n\n        this.valueUpdate(value);\n    }\n\n    return this.property;\n}\n\nfunction changeChecker(current, changes){\n    if(changes){\n        var changes = new WhatChanged(current, changes);\n\n        return function(value){\n            return Object.keys(changes.update(value)).length > 0;\n        };\n    }else{\n        var lastValue = current;\n        return function(newValue){\n            if(!same(lastValue, newValue)){\n                lastValue = newValue;\n                return true;\n            }\n        };\n    }\n}\n\n\nfunction propertyBinding(newBinding){\n    if(!arguments.length){\n        return this.binding;\n    }\n\n    if(!is.binding(newBinding)){\n        newBinding = createBinding(newBinding);\n    }\n\n    if(newBinding === this.binding){\n        return this.property;\n    }\n\n    if(this.binding){\n        this.binding.removeListener('change', this.valueUpdate);\n    }\n\n    this.binding = newBinding;\n\n    if(this.model){\n        this.property.attach(this.model, this.property._firm);\n    }\n\n    this.binding.on('change', this.valueUpdate);\n    this.valueUpdate(this.binding());\n\n    return this.property;\n};\n\nfunction attachProperty(object, firm){\n    if(firmer(this.property, firm)){\n        return this.property;\n    }\n\n    this.property._firm = firm;\n\n    if(!(object instanceof Object)){\n        object = {};\n    }\n\n    if(this.binding){\n        this.model = object;\n        this.binding.attach(object, 1);\n    }\n\n    if(this.property._events && 'attach' in this.property._events){\n        this.property.emit('attach', object, 1);\n    }\n\n    return this.property;\n};\n\nfunction detachProperty(firm){\n    if(firmer(this.property, firm)){\n        return this.property;\n    }\n\n    if(this.binding){\n        this.binding.removeListener('change', this.valueUpdate);\n        this.binding.detach(1);\n        this.model = null;\n    }\n\n    if(this.property._events && 'detach' in this.property._events){\n        this.property.emit('detach', 1);\n    }\n\n    return this.property;\n};\n\nfunction updateProperty(){\n    if(!this.destroyed){\n\n        if(this.property._update){\n            this.property._update(this.property._value, this.property);\n        }\n\n        this.property.emit('update', this.property._value);\n    }\n    return this.property;\n};\n\nfunction propertyUpdater(fn){\n    if(!arguments.length){\n        return this.property._update;\n    }\n    this.property._update = fn;\n    return this.property;\n};\n\nfunction destroyProperty(){\n    if(!this.destroyed){\n        this.destroyed = true;\n\n        this.property\n            .removeAllListeners('change')\n            .removeAllListeners('update')\n            .removeAllListeners('attach');\n\n        this.property.emit('destroy');\n        this.property.detach();\n        if(this.binding){\n            this.binding.destroy(true);\n        }\n    }\n    return this.property;\n};\n\nfunction propertyDestroyed(){\n    return this.destroyed;\n};\n\nfunction addPropertyTo(component, key){\n    component.setProperty(key, this.property);\n\n    return this.property;\n};\n\nfunction createProperty(currentValue, changes, updater){\n    if(typeof changes === 'function'){\n        updater = changes;\n        changes = null;\n    }\n\n    var propertyScope =\n        property = propertyTemplate.bind(propertyScope)\n        propertyScope = {\n        hasChanged: changeChecker(currentValue, changes),\n        valueUpdate: function(value){\n            property._value = value;\n            if(!propertyScope.hasChanged(value)){\n                return;\n            }\n            property.emit('change', property._value);\n            property.update();\n        }\n    };\n\n    var property = propertyScope.property = propertyTemplate.bind(propertyScope);\n\n    property._value = currentValue;\n    property._update = updater;\n\n    setPrototypeOf(property, propertyProto);\n\n    property.binding = propertyBinding.bind(propertyScope);\n    property.attach = attachProperty.bind(propertyScope);\n    property.detach = detachProperty.bind(propertyScope);\n    property.update = updateProperty.bind(propertyScope);\n    property.updater = propertyUpdater.bind(propertyScope);\n    property.destroy = destroyProperty.bind(propertyScope);\n    property.destroyed = propertyDestroyed.bind(propertyScope);\n    property.addTo = addPropertyTo.bind(propertyScope);\n\n    return property;\n};\n\nmodule.exports = createProperty;","var Enti = require('enti'),\n    is = require('./is'),\n    firmer = require('./firmer'),\n    functionEmitter = require('./functionEmitter'),\n    setPrototypeOf = require('setprototypeof'),\n    same = require('same-value');\n\nfunction fuseBinding(){\n    var args = Array.prototype.slice.call(arguments);\n\n    var bindings = args.slice(),\n        transform = bindings.pop(),\n        updateTransform,\n        resultBinding = createBinding('result'),\n        selfChanging;\n\n    resultBinding._arguments = args;\n\n    if(typeof bindings[bindings.length-1] === 'function' && !is.binding(bindings[bindings.length-1])){\n        updateTransform = transform;\n        transform = bindings.pop();\n    }\n\n    resultBinding._model.removeAllListeners();\n    resultBinding._set = function(value){\n        if(updateTransform){\n            selfChanging = true;\n            var newValue = updateTransform(value);\n            if(!same(newValue, bindings[0]())){\n                bindings[0](newValue);\n                resultBinding._change(newValue);\n            }\n            selfChanging = false;\n        }else{\n            resultBinding._change(value);\n        }\n    };\n\n    function change(){\n        if(selfChanging){\n            return;\n        }\n        resultBinding(transform.apply(null, bindings.map(function(binding){\n            return binding();\n        })));\n    }\n\n    bindings.forEach(function(binding, index){\n        if(!is.binding(binding)){\n            binding = createBinding(binding);\n            bindings.splice(index,1,binding);\n        }\n        binding.on('change', change);\n        resultBinding.on('detach', binding.detach);\n    });\n\n    var lastAttached;\n    resultBinding.on('attach', function(object){\n        selfChanging = true;\n        bindings.forEach(function(binding){\n            binding.attach(object, 1);\n        });\n        selfChanging = false;\n        if(lastAttached !== object){\n            change();\n        }\n        lastAttached = object;\n    });\n\n    return resultBinding;\n}\n\nfunction createValueBinding(){\n    var valueBinding = createBinding('value');\n    valueBinding.attach = function(){return valueBinding;};\n    valueBinding.detach = function(){return valueBinding;};\n    return valueBinding;\n}\n\nfunction bindingTemplate(newValue){\n    if(!arguments.length){\n        return this.value;\n    }\n\n    if(this.binding._fastn_binding === '.'){\n        return;\n    }\n\n    this.binding._set(newValue);\n    return this.binding;\n}\n\nfunction createBinding(path, more){\n\n    if(more){ // used instead of arguments.length for performance\n        return fuseBinding.apply(null, arguments);\n    }\n\n    if(path == null){\n        return createValueBinding();\n    }\n\n    var bindingScope = {},\n        binding = bindingScope.binding = bindingTemplate.bind(bindingScope),\n        destroyed;\n\n    setPrototypeOf(binding, functionEmitter);\n    binding.setMaxListeners(10000);\n    binding._arguments = [path];\n    binding._model = new Enti(false);\n    binding._fastn_binding = path;\n    binding._firm = -Infinity;\n\n    function modelAttachHandler(data){\n        binding._model.attach(data);\n        binding._change(binding._model.get(path));\n        binding.emit('attach', data, 1);\n    }\n\n    function modelDetachHandler(){\n        binding._model.detach();\n    }\n\n    binding.attach = function(object, firm){\n\n        // If the binding is being asked to attach loosly to an object,\n        // but it has already been defined as being firmly attached, do not attach.\n        if(firmer(binding, firm)){\n            return binding;\n        }\n\n        binding._firm = firm;\n\n        var isEnti = Enti.isEnti(object);\n\n        if(isEnti && bindingScope.attachedModel === object){\n            return binding;\n        }\n\n        if(bindingScope.attachedModel){\n            bindingScope.attachedModel.removeListener('attach', modelAttachHandler);\n            bindingScope.attachedModel.removeListener('detach', modelDetachHandler);\n            bindingScope.attachedModel = null;\n        }\n\n        if(isEnti){\n            bindingScope.attachedModel = object;\n            bindingScope.attachedModel.on('attach', modelAttachHandler);\n            bindingScope.attachedModel.on('detach', modelDetachHandler);\n            object = object._model;\n        }\n\n        if(!(object instanceof Object)){\n            object = {};\n        }\n\n        if(binding._model._model === object){\n            return binding;\n        }\n\n        modelAttachHandler(object);\n\n        return binding;\n    };\n\n    binding.detach = function(firm){\n        if(firmer(binding, firm)){\n            return binding;\n        }\n\n        bindingScope.value = undefined;\n        if(binding._model.isAttached()){\n            binding._model.detach();\n        }\n        binding.emit('detach', 1);\n        return binding;\n    };\n    binding._set = function(newValue){\n        if(same(binding._model.get(path), newValue)){\n            return;\n        }\n        if(!binding._model.isAttached()){\n            binding._model.attach(binding._model.get('.'));\n        }\n        binding._model.set(path, newValue);\n    };\n    binding._change = function(newValue){\n        bindingScope.value = newValue;\n        binding.emit('change', binding());\n    };\n    binding.clone = function(keepAttachment){\n        var newBinding = createBinding.apply(null, binding._arguments);\n\n        if(keepAttachment){\n            newBinding.attach(bindingScope.attachedModel || binding._model._model, binding._firm);\n        }\n\n        return newBinding;\n    };\n    binding.destroy = function(soft){\n        if(destroyed){\n            return;\n        }\n        if(soft && binding.listeners('change').length){\n            return;\n        }\n        destroyed = true;\n        binding.emit('destroy');\n        binding.detach();\n        binding._model.destroy();\n    };\n\n    binding.destroyed = function(){\n        return destroyed;\n    };\n\n    if(path !== '.'){\n        binding._model.on(path, binding._change);\n    }\n\n    return binding;\n}\n\nfunction from(valueOrBinding){\n    if(is.binding(valueOrBinding)){\n        return valueOrBinding;\n    }\n\n    return createBinding()(valueOrBinding);\n}\n\ncreateBinding.from = from;\n\nmodule.exports = createBinding;","var is = require('./is'),\n    GENERIC = '_generic',\n    EventEmitter = require('events').EventEmitter,\n    slice = Array.prototype.slice;\n\nfunction flatten(item){\n    return Array.isArray(item) ? item.reduce(function(result, element){\n        if(element == null){\n            return result;\n        }\n        return result.concat(flatten(element));\n    },[]) : item;\n}\n\nfunction attachProperties(object, firm){\n    for(var key in this._properties){\n        this._properties[key].attach(object, firm);\n    }\n}\n\nfunction onRender(){\n\n    // Ensure all bindings are somewhat attached just before rendering\n    this.attach(undefined, 0);\n\n    for(var key in this._properties){\n        this._properties[key].update();\n    }\n}\n\nfunction detachProperties(firm){\n    for(var key in this._properties){\n        this._properties[key].detach(firm);\n    }\n}\n\nfunction destroyProperties(){\n    for(var key in this._properties){\n        this._properties[key].destroy();\n    }\n}\n\nfunction clone(){\n    return this.fastn(this.component._type, this.component._settings, this.component._children.filter(function(child){\n            return !child._templated;\n        }).map(function(child){\n            return child.clone();\n        })\n    );\n}\n\nfunction getSetBinding(newBinding){\n    if(!arguments.length){\n        return this.binding;\n    }\n\n    if(!is.binding(newBinding)){\n        newBinding = this.fastn.binding(newBinding);\n    }\n\n    if(this.binding && this.binding !== newBinding){\n        this.binding.removeListener('change', this.emitAttach);\n        newBinding.attach(this.binding._model, this.binding._firm);\n    }\n\n    this.binding = newBinding;\n\n    this.binding.on('change', this.emitAttach);\n    this.binding.on('detach', this.emitDetach);\n\n    this.emitAttach();\n\n    return this.component;\n};\n\nfunction emitAttach(){\n    var newBound = this.binding();\n    if(newBound !== this.lastBound){\n        this.lastBound = newBound;\n        this.scope.attach(this.lastBound);\n        this.component.emit('attach', this.scope, 1);\n    }\n}\n\nfunction emitDetach(){\n    this.component.emit('detach', 1);\n}\n\nfunction getScope(){\n    return this.scope;\n}\n\nfunction destroy(){\n    if(this.destroyed){\n        return;\n    }\n    this.destroyed = true;\n\n    this.component\n        .removeAllListeners('render')\n        .removeAllListeners('attach');\n\n    this.component.emit('destroy');\n    this.component.element = null;\n    this.scope.destroy();\n    this.binding.destroy();\n\n    return this.component;\n}\n\nfunction attachComponent(object, firm){\n    this.binding.attach(object, firm);\n    return this.component;\n}\n\nfunction detachComponent(firm){\n    this.binding.detach(firm);\n    return this.component;\n}\n\nfunction isDestroyed(){\n    return this.destroyed;\n}\n\nfunction setProperty(key, property){\n\n    // Add a default property or use the one already there\n    if(!property){\n        property = this.component[key] || this.fastn.property();\n    }\n\n    this.component[key] = property;\n    this.component._properties[key] = property;\n\n    return this.component;\n}\n\nfunction extendComponent(type, settings, children){\n\n    if(type in this.types){\n        return this.component;\n    }\n\n    if(!(type in this.fastn.components)){\n\n        if(!(GENERIC in this.fastn.components)){\n            throw new Error('No component of type \"' + type + '\" is loaded');\n        }\n\n        this.fastn.components._generic(this.fastn, this.component, type, settings, children);\n\n        this.types._generic = true;\n    }else{\n\n        this.fastn.components[type](this.fastn, this.component, type, settings, children);\n    }\n\n    this.types[type] = true;\n\n    return this.component;\n};\n\nfunction isType(type){\n    return type in this.types;\n}\n\nfunction FastnComponent(fastn, type, settings, children){\n    var component = this;\n\n    var componentScope = {\n        types: {},\n        fastn: fastn,\n        component: component,\n        binding: fastn.binding('.'),\n        destroyed: false,\n        scope: new fastn.Model(false),\n        lastBound: null\n    };\n\n    componentScope.emitAttach = emitAttach.bind(componentScope);\n    componentScope.emitDetach = emitDetach.bind(componentScope);\n    componentScope.binding._default_binding = true;\n\n    component._type = type;\n    component._properties = {};\n    component._settings = settings || {};\n    component._children = children ? flatten(children) : [];\n\n    component.attach = attachComponent.bind(componentScope);\n    component.detach = detachComponent.bind(componentScope);\n    component.scope = getScope.bind(componentScope);\n    component.destroy = destroy.bind(componentScope);\n    component.destroyed = isDestroyed.bind(componentScope);\n    component.binding = getSetBinding.bind(componentScope);\n    component.setProperty = setProperty.bind(componentScope);\n    component.clone = clone.bind(componentScope);\n    component.children = slice.bind(component._children);\n    component.extend = extendComponent.bind(componentScope);\n    component.is = isType.bind(componentScope);\n\n    component.binding(componentScope.binding);\n\n    component.on('attach', attachProperties.bind(this));\n    component.on('render', onRender.bind(this));\n    component.on('detach', detachProperties.bind(this));\n    component.on('destroy', destroyProperties.bind(this));\n\n    if(fastn.debug){\n        component.on('render', function(){\n            if(component.element && typeof component.element === 'object'){\n                component.element._component = component;\n            }\n        });\n    }\n}\nFastnComponent.prototype = Object.create(EventEmitter.prototype);\nFastnComponent.prototype.constructor = FastnComponent;\nFastnComponent.prototype._fastn_component = true;\n\nmodule.exports = FastnComponent;","function insertChild(fastn, container, child, index){\n    var currentIndex = container._children.indexOf(child),\n        newComponent = fastn.toComponent(child);\n\n    if(newComponent !== child){\n        container._children.splice(currentIndex, 1, newComponent);\n    }\n\n    if(!~currentIndex || newComponent !== child){\n        newComponent.attach(container.scope(), 1);\n    }\n\n    if(currentIndex !== index){\n        if(~currentIndex){\n            container._children.splice(currentIndex, 1);\n        }\n        container._children.splice(index, 0, newComponent);\n    }\n\n    if(container.element){\n        if(!newComponent.element){\n            newComponent.render();\n        }\n        container._insert(newComponent.element, index);\n        newComponent.emit('insert', container);\n    }\n}\n\nfunction getContainerElement(){\n    return this.containerElement || this.element;\n}\n\nfunction insert(child, index){\n    var childComponent = child,\n        container = this.container,\n        fastn = this.fastn;\n\n    if(index && typeof index === 'object'){\n        childComponent = Array.prototype.slice.call(arguments);\n    }\n\n    if(isNaN(index)){\n        index = container._children.length;\n    }\n\n    if(Array.isArray(childComponent)){\n        for (var i = 0; i < childComponent.length; i++) {\n            container.insert(childComponent[i], i + index);\n        }\n    }else{\n        insertChild(fastn, container, childComponent, index);\n    }\n\n    return container;\n}\n\nmodule.exports = function(fastn, component, type, settings, children){\n    component.insert = insert.bind({\n        container: component,\n        fastn: fastn\n    });\n\n    component._insert = function(element, index){\n        var containerElement = component.getContainerElement();\n        if(!containerElement){\n            return;\n        }\n\n        if(containerElement.childNodes[index] === element){\n            return;\n        }\n\n        containerElement.insertBefore(element, containerElement.childNodes[index]);\n    };\n\n    component.remove = function(childComponent){\n        var index = component._children.indexOf(childComponent);\n        if(~index){\n            component._children.splice(index,1);\n        }\n\n        childComponent.detach(1);\n\n        if(childComponent.element){\n            component._remove(childComponent.element);\n        }\n    };\n\n    component._remove = function(element){\n        var containerElement = component.getContainerElement();\n\n        if(!element || !containerElement || element.parentNode !== containerElement){\n            return;\n        }\n\n        containerElement.removeChild(element);\n    };\n\n    component.empty = function(){\n        while(component._children.length){\n            component.remove(component._children.pop());\n        }\n    };\n\n    component.replaceChild = function(oldChild, newChild){\n        var index = component._children.indexOf(oldChild);\n\n        if(!~index){\n            return;\n        }\n\n        component.remove(oldChild);\n        component.insert(newChild, index);\n    };\n\n    component.getContainerElement = getContainerElement.bind(component);\n\n    component.on('render', component.insert.bind(null, component._children, 0));\n\n    component.on('attach', function(model, firm){\n        for(var i = 0; i < component._children.length; i++){\n            if(fastn.isComponent(component._children[i])){\n                component._children[i].attach(model, firm);\n            }\n        }\n    });\n\n    component.on('destroy', function(data, firm){\n        for(var i = 0; i < component._children.length; i++){\n            if(fastn.isComponent(component._children[i])){\n                component._children[i].destroy(firm);\n            }\n        }\n    });\n\n    return component;\n};","var FUNCTION = 'function',\n    OBJECT = 'object',\n    FASTNBINDING = '_fastn_binding',\n    FASTNPROPERTY = '_fastn_property',\n    FASTNCOMPONENT = '_fastn_component',\n    DEFAULTBINDING = '_default_binding';\n\nfunction isComponent(thing){\n    return thing && typeof thing === OBJECT && FASTNCOMPONENT in thing;\n}\n\nfunction isBindingObject(thing){\n    return thing && typeof thing === OBJECT && FASTNBINDING in thing;\n}\n\nfunction isBinding(thing){\n    return typeof thing === FUNCTION && FASTNBINDING in thing;\n}\n\nfunction isProperty(thing){\n    return typeof thing === FUNCTION && FASTNPROPERTY in thing;\n}\n\nfunction isDefaultBinding(thing){\n    return typeof thing === FUNCTION && FASTNBINDING in thing && DEFAULTBINDING in thing;\n}\n\nmodule.exports = {\n    component: isComponent,\n    bindingObject: isBindingObject,\n    binding: isBinding,\n    defaultBinding: isDefaultBinding,\n    property: isProperty\n};","var EventEmitter = require('events').EventEmitter;\n\nfunction toArray(items){\n    return Array.prototype.slice.call(items);\n}\n\nvar deepRegex = /[|.]/i;\n\nfunction matchDeep(path){\n    return (path + '').match(deepRegex);\n}\n\nfunction isWildcardPath(path){\n    var stringPath = (path + '');\n    return ~stringPath.indexOf('*');\n}\n\nfunction getTargetKey(path){\n    var stringPath = (path + '');\n    return stringPath.split('|').shift();\n}\n\nvar eventSystemVersion = 1,\n    globalKey = '_entiEventState' + eventSystemVersion\n    globalState = global[globalKey] = global[globalKey] || {\n        instances: []\n    };\n\nvar modifiedEnties = globalState.modifiedEnties = globalState.modifiedEnties || new Set(),\n    trackedObjects = globalState.trackedObjects = globalState.trackedObjects || new WeakMap();\n\nfunction leftAndRest(path){\n    var stringPath = (path + '');\n\n    // Special case when you want to filter on self (.)\n    if(stringPath.slice(0,2) === '.|'){\n        return ['.', stringPath.slice(2)];\n    }\n\n    var match = matchDeep(stringPath);\n    if(match){\n        return [stringPath.slice(0, match.index), stringPath.slice(match.index+1)];\n    }\n    return stringPath;\n}\n\nfunction isWildcardKey(key){\n    return key.charAt(0) === '*';\n}\n\nfunction isFeralcardKey(key){\n    return key === '**';\n}\n\nfunction addHandler(object, key, handler){\n    var trackedKeys = trackedObjects.get(object);\n\n    if(trackedKeys == null){\n        trackedKeys = {};\n        trackedObjects.set(object, trackedKeys);\n    }\n\n    var handlers = trackedKeys[key];\n\n    if(!handlers){\n        handlers = new Set();\n        trackedKeys[key] = handlers;\n    }\n\n    handlers.add(handler);\n}\n\nfunction removeHandler(object, key, handler){\n    var trackedKeys = trackedObjects.get(object);\n\n    if(trackedKeys == null){\n        return;\n    }\n\n    var handlers = trackedKeys[key];\n\n    if(!handlers){\n        return;\n    }\n\n    handlers.delete(handler);\n}\n\nfunction trackObjects(eventName, tracked, handler, object, key, path){\n    if(!object || typeof object !== 'object'){\n        return;\n    }\n\n    var eventKey = key === '**' ? '*' : key,\n        target = object[key],\n        targetIsObject = target && typeof target === 'object';\n\n    if(targetIsObject && tracked.has(target)){\n        return;\n    }\n\n    var handle = function(value, event, emitKey){\n        if(eventKey !== '*' && typeof object[eventKey] === 'object' && object[eventKey] !== target){\n            if(targetIsObject){\n                tracked.delete(target);\n            }\n            removeHandler(object, eventKey, handle);\n            trackObjects(eventName, tracked, handler, object, key, path);\n            return;\n        }\n\n        if(eventKey === '*'){\n            trackKeys(object, key, path);\n        }\n\n        if(!tracked.has(object)){\n            return;\n        }\n\n        if(key !== '**' || !path){\n            handler(value, event, emitKey);\n        }\n    }\n\n    function trackKeys(target, root, rest){\n        var keys = Object.keys(target);\n        for(var i = 0; i < keys.length; i++){\n            if(isFeralcardKey(root)){\n                trackObjects(eventName, tracked, handler, target, keys[i], '**' + (rest ? '.' : '') + (rest || ''));\n            }else{\n                trackObjects(eventName, tracked, handler, target, keys[i], rest);\n            }\n        }\n    }\n\n    addHandler(object, eventKey, handle);\n\n    if(!targetIsObject){\n        return;\n    }\n\n    // This would obviously be better implemented with a WeakSet,\n    // But I'm trying to keep filesize down, and I don't really want another\n    // polyfill when WeakMap works well enough for the task.\n    tracked.add(target);\n\n    if(!path){\n        return;\n    }\n\n    var rootAndRest = leftAndRest(path),\n        root,\n        rest;\n\n    if(!Array.isArray(rootAndRest)){\n        root = rootAndRest;\n    }else{\n        root = rootAndRest[0];\n        rest = rootAndRest[1];\n\n        // If the root is '.', watch for events on *\n        if(root === '.'){\n            root = '*';\n        }\n    }\n\n    if(targetIsObject && isWildcardKey(root)){\n        trackKeys(target, root, rest);\n    }\n\n    trackObjects(eventName, tracked, handler, target, root, rest);\n}\n\nvar trackedEvents = new WeakMap();\nfunction createHandler(enti, trackedObjectPaths, trackedPaths, eventName){\n    var oldModel = enti._model;\n    return function(event, emitKey){\n        trackedPaths.entis.forEach(function(enti){\n            if(enti._emittedEvents[eventName] === emitKey){\n                return;\n            }\n\n            if(enti._model !== oldModel){\n                trackedPaths.entis.delete(enti);\n                if(trackedPaths.entis.size === 0){\n                    delete trackedObjectPaths[eventName];\n                    if(!Object.keys(trackedObjectPaths).length){\n                        trackedEvents.delete(oldModel);\n                    }\n                }\n                return;\n            }\n\n            enti._emittedEvents[eventName] = emitKey;\n\n            var targetKey = getTargetKey(eventName),\n                value = isWildcardPath(targetKey) ? undefined : enti.get(targetKey);\n\n            enti.emit(eventName, value, event);\n        });\n    };\n}\n\nfunction trackPath(enti, eventName){\n    var object = enti._model,\n        trackedObjectPaths = trackedEvents.get(object);\n\n    if(!trackedObjectPaths){\n        trackedObjectPaths = {};\n        trackedEvents.set(object, trackedObjectPaths);\n    }\n\n    var trackedPaths = trackedObjectPaths[eventName];\n\n    if(!trackedPaths){\n        trackedPaths = {\n            entis: new Set(),\n            trackedObjects: new WeakSet()\n        };\n        trackedObjectPaths[eventName] = trackedPaths;\n    }else if(trackedPaths.entis.has(enti)){\n        return;\n    }\n\n    trackedPaths.entis.add(enti);\n\n    var handler = createHandler(enti, trackedObjectPaths, trackedPaths, eventName);\n\n    trackObjects(eventName, trackedPaths.trackedObjects, handler, {model:object}, 'model', eventName);\n}\n\nfunction trackPaths(enti){\n    if(!enti._events || !enti._model){\n        return;\n    }\n\n    for(var key in enti._events){\n        trackPath(enti, key);\n    }\n    modifiedEnties.delete(enti);\n}\n\nfunction emitEvent(object, key, value, emitKey){\n\n    modifiedEnties.forEach(trackPaths);\n\n    var trackedKeys = trackedObjects.get(object);\n\n    if(!trackedKeys){\n        return;\n    }\n\n    var event = {\n        value: value,\n        key: key,\n        object: object\n    };\n\n    function emitForKey(handler){\n        handler(event, emitKey);\n    }\n\n    if(trackedKeys[key]){\n        trackedKeys[key].forEach(emitForKey);\n    }\n\n    if(trackedKeys['*']){\n        trackedKeys['*'].forEach(emitForKey);\n    }\n}\n\nfunction emit(events){\n    var emitKey = {};\n    events.forEach(function(event){\n        emitEvent(event[0], event[1], event[2], emitKey);\n    });\n}\n\nfunction Enti(model){\n    var detached = model === false;\n\n    if(!model || (typeof model !== 'object' && typeof model !== 'function')){\n        model = {};\n    }\n\n    this._emittedEvents = {};\n    if(detached){\n        this._model = {};\n    }else{\n        this.attach(model);\n    }\n\n    this.on('newListener', function(){\n        modifiedEnties.add(this);\n    });\n}\nEnti.get = function(model, key){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    key = getTargetKey(key);\n\n    if(key === '.'){\n        return model;\n    }\n\n\n    var path = leftAndRest(key);\n    if(Array.isArray(path)){\n        return Enti.get(model[path[0]], path[1]);\n    }\n\n    return model[key];\n};\nEnti.set = function(model, key, value){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    key = getTargetKey(key);\n\n    var path = leftAndRest(key);\n    if(Array.isArray(path)){\n        return Enti.set(model[path[0]], path[1], value);\n    }\n\n    var original = model[key];\n\n    if(typeof value !== 'object' && value === original){\n        return;\n    }\n\n    var keysChanged = !(key in model);\n\n    model[key] = value;\n\n    var events = [[model, key, value]];\n\n    if(keysChanged){\n        if(Array.isArray(model)){\n            events.push([model, 'length', model.length]);\n        }\n    }\n\n    emit(events);\n};\nEnti.push = function(model, key, value){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    var target;\n    if(arguments.length < 3){\n        value = key;\n        key = '.';\n        target = model;\n    }else{\n        var path = leftAndRest(key);\n        if(Array.isArray(path)){\n            return Enti.push(model[path[0]], path[1], value);\n        }\n\n        target = model[key];\n    }\n\n    if(!Array.isArray(target)){\n        throw 'The target is not an array.';\n    }\n\n    target.push(value);\n\n    var events = [\n        [target, target.length-1, value],\n        [target, 'length', target.length]\n    ];\n\n    emit(events);\n};\nEnti.insert = function(model, key, value, index){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n\n    var target;\n    if(arguments.length < 4){\n        index = value;\n        value = key;\n        key = '.';\n        target = model;\n    }else{\n        var path = leftAndRest(key);\n        if(Array.isArray(path)){\n            return Enti.insert(model[path[0]], path[1], value, index);\n        }\n\n        target = model[key];\n    }\n\n    if(!Array.isArray(target)){\n        throw 'The target is not an array.';\n    }\n\n    target.splice(index, 0, value);\n\n    var events = [\n        [target, index, value],\n        [target, 'length', target.length]\n    ];\n\n    emit(events);\n};\nEnti.remove = function(model, key, subKey){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    var path = leftAndRest(key);\n    if(Array.isArray(path)){\n        return Enti.remove(model[path[0]], path[1], subKey);\n    }\n\n    // Remove a key off of an object at 'key'\n    if(subKey != null){\n        Enti.remove(model[key], subKey);\n        return;\n    }\n\n    if(key === '.'){\n        throw '. (self) is not a valid key to remove';\n    }\n\n    var events = [];\n\n    if(Array.isArray(model)){\n        model.splice(key, 1);\n        events.push([model, 'length', model.length]);\n    }else{\n        delete model[key];\n        events.push([model, key]);\n    }\n\n    emit(events);\n};\nEnti.move = function(model, key, index){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    var path = leftAndRest(key);\n    if(Array.isArray(path)){\n        return Enti.move(model[path[0]], path[1], index);\n    }\n\n    if(key === index){\n        return;\n    }\n\n    if(!Array.isArray(model)){\n        throw 'The model is not an array.';\n    }\n\n    var item = model[key];\n\n    model.splice(key, 1);\n\n    model.splice(index - (index > key ? 0 : 1), 0, item);\n\n    emit([[model, index, item]]);\n};\nEnti.update = function(model, key, value){\n    if(!model || typeof model !== 'object'){\n        return;\n    }\n\n    var target,\n        isArray = Array.isArray(value);\n\n    if(arguments.length < 3){\n        value = key;\n        key = '.';\n        target = model;\n    }else{\n        var path = leftAndRest(key);\n        if(Array.isArray(path)){\n            return Enti.update(model[path[0]], path[1], value);\n        }\n\n        target = model[key];\n\n        if(target == null){\n            model[key] = isArray ? [] : {};\n        }\n    }\n\n    if(typeof value !== 'object'){\n        throw 'The value is not an object.';\n    }\n\n    if(typeof target !== 'object'){\n        throw 'The target is not an object.';\n    }\n\n    var events = [],\n        updatedObjects = new WeakSet();\n\n    function updateTarget(target, value){\n        for(var key in value){\n            var currentValue = target[key];\n            if(currentValue instanceof Object && !updatedObjects.has(currentValue)){\n                updatedObjects.add(currentValue);\n                updateTarget(currentValue, value[key]);\n                continue;\n            }\n            target[key] = value[key];\n            events.push([target, key, value[key]]);\n        }\n\n        if(Array.isArray(target)){\n            events.push([target, 'length', target.length]);\n        }\n    }\n\n    updateTarget(target, value);\n\n    emit(events);\n};\nEnti.prototype = Object.create(EventEmitter.prototype);\nEnti.prototype._maxListeners = 100;\nEnti.prototype.constructor = Enti;\nEnti.prototype.attach = function(model){\n    if(this._model !== model){\n        this.detach();\n    }\n\n    modifiedEnties.add(this);\n    this._attached = true;\n    this._model = model;\n    this.emit('attach', model);\n};\nEnti.prototype.detach = function(){\n    modifiedEnties.delete(this);\n\n    this._emittedEvents = {};\n    this._model = {};\n    this._attached = false;\n    this.emit('detach');\n};\nEnti.prototype.destroy = function(){\n    this.detach();\n    this._events = null;\n    this.emit('destroy');\n};\nEnti.prototype.get = function(key){\n    return Enti.get(this._model, key);\n};\n\nEnti.prototype.set = function(key, value){\n    return Enti.set(this._model, key, value);\n};\n\nEnti.prototype.push = function(key, value){\n    return Enti.push.apply(null, [this._model].concat(toArray(arguments)));\n};\n\nEnti.prototype.insert = function(key, value, index){\n    return Enti.insert.apply(null, [this._model].concat(toArray(arguments)));\n};\n\nEnti.prototype.remove = function(key, subKey){\n    return Enti.remove.apply(null, [this._model].concat(toArray(arguments)));\n};\n\nEnti.prototype.move = function(key, index){\n    return Enti.move.apply(null, [this._model].concat(toArray(arguments)));\n};\n\nEnti.prototype.update = function(key, index){\n    return Enti.update.apply(null, [this._model].concat(toArray(arguments)));\n};\nEnti.prototype.isAttached = function(){\n    return this._attached;\n};\nEnti.prototype.attachedCount = function(){\n    return modifiedEnties.size;\n};\n\nEnti.isEnti = function(target){\n    return target && !!~globalState.instances.indexOf(target.constructor);\n};\n\nEnti.store = function(target, key, value){\n    if(arguments.length < 2){\n        return Enti.get(target, key);\n    }\n\n    Enti.set(target, key, value);\n};\n\nglobalState.instances.push(Enti);\n\nmodule.exports = Enti;\n","var todo = [],\n    todoKeys = [],\n    scheduled,\n    updates = 0;\n\nfunction run(){\n    var startTime = Date.now();\n\n    while(todo.length && Date.now() - startTime < 16){\n        todoKeys.shift();\n        todo.shift()();\n    }\n\n    if(todo.length){\n        requestAnimationFrame(run);\n    }else{\n        scheduled = false;\n    }\n}\n\nfunction schedule(key, fn){\n    if(~todoKeys.indexOf(key)){\n        return;\n    }\n\n    todo.push(fn);\n    todoKeys.push(key);\n\n    if(!scheduled){\n        scheduled = true;\n        requestAnimationFrame(run);\n    }\n}\n\nmodule.exports = schedule;","var setify = require('setify'),\n    classist = require('classist');\n\nfunction updateTextProperty(generic, element, value){\n    if(arguments.length === 2){\n        return element.textContent;\n    }\n    element.textContent = (value == null ? '' : value);\n}\n\nmodule.exports = {\n    class: function(generic, element, value){\n        if(!generic._classist){\n            generic._classist = classist(element);\n        }\n\n        if(arguments.length < 3){\n            return generic._classist();\n        }\n\n        generic._classist(value);\n    },\n    display: function(generic, element, value){\n        if(arguments.length === 2){\n            return element.style.display !== 'none';\n        }\n        element.style.display = value ? null : 'none';\n    },\n    disabled: function(generic, element, value){\n        if(arguments.length === 2){\n            return element.hasAttribute('disabled');\n        }\n        if(value){\n            element.setAttribute('disabled', 'disabled');\n        }else{\n            element.removeAttribute('disabled');\n        }\n    },\n    textContent: updateTextProperty,\n    innerText: updateTextProperty,\n    innerHTML: updateTextProperty,\n    value: function(generic, element, value){\n        var inputType = element.type;\n\n        if(element.nodeName === 'INPUT' && inputType === 'date'){\n            if(arguments.length === 2){\n                return element.value ? new Date(element.value.replace(/-/g,'/').replace('T',' ')) : null;\n            }\n\n            value = value != null ? new Date(value) : null;\n\n            if(!value || isNaN(value)){\n                element.value = null;\n            }else{\n                element.value = [\n                    value.getFullYear(),\n                    ('0' + (value.getMonth() + 1)).slice(-2),\n                    ('0' + value.getDate()).slice(-2)\n                ].join('-');\n            }\n            return;\n        }\n\n        if(arguments.length === 2){\n            return element.value;\n        }\n        if(value === undefined){\n            value = null;\n        }\n\n        if(element.nodeName === 'PROGRESS'){\n            value = parseFloat(value) || 0;\n        }\n\n        setify(element, value);\n    },\n    max: function(generic, element, value) {\n        if(arguments.length === 2){\n            return element.value;\n        }\n\n        if(element.nodeName === 'PROGRESS'){\n            value = parseFloat(value) || 0;\n        }\n\n        element.max = value;\n    },\n    style: function(generic, element, value){\n        if(arguments.length === 2){\n            return element.style;\n        }\n\n        for(var key in value){\n            element.style[key] = value[key];\n        }\n    }\n};","'use strict';\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction ToObject(val) {\n\tif (val == null) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction ownEnumerableKeys(obj) {\n\tvar keys = Object.getOwnPropertyNames(obj);\n\n\tif (Object.getOwnPropertySymbols) {\n\t\tkeys = keys.concat(Object.getOwnPropertySymbols(obj));\n\t}\n\n\treturn keys.filter(function (key) {\n\t\treturn propIsEnumerable.call(obj, key);\n\t});\n}\n\nmodule.exports = Object.assign || function (target, source) {\n\tvar from;\n\tvar keys;\n\tvar to = ToObject(target);\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = arguments[s];\n\t\tkeys = ownEnumerableKeys(Object(from));\n\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tto[keys[i]] = from[keys[i]];\n\t\t}\n\t}\n\n\treturn to;\n};\n","//Copyright (C) 2012 Kory Nunn\r\n\r\n//Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\r\n\r\n//The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\r\n\r\n//THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n/*\r\n\r\n    This code is not formatted for readability, but rather run-speed and to assist compilers.\r\n\r\n    However, the code's intention should be transparent.\r\n\r\n    *** IE SUPPORT ***\r\n\r\n    If you require this library to work in IE7, add the following after declaring crel.\r\n\r\n    var testDiv = document.createElement('div'),\r\n        testLabel = document.createElement('label');\r\n\r\n    testDiv.setAttribute('class', 'a');\r\n    testDiv['className'] !== 'a' ? crel.attrMap['class'] = 'className':undefined;\r\n    testDiv.setAttribute('name','a');\r\n    testDiv['name'] !== 'a' ? crel.attrMap['name'] = function(element, value){\r\n        element.id = value;\r\n    }:undefined;\r\n\r\n\r\n    testLabel.setAttribute('for', 'a');\r\n    testLabel['htmlFor'] !== 'a' ? crel.attrMap['for'] = 'htmlFor':undefined;\r\n\r\n\r\n\r\n*/\r\n\r\n(function (root, factory) {\r\n    if (typeof exports === 'object') {\r\n        module.exports = factory();\r\n    } else if (typeof define === 'function' && define.amd) {\r\n        define(factory);\r\n    } else {\r\n        root.crel = factory();\r\n    }\r\n}(this, function () {\r\n    var fn = 'function',\r\n        obj = 'object',\r\n        nodeType = 'nodeType',\r\n        textContent = 'textContent',\r\n        setAttribute = 'setAttribute',\r\n        attrMapString = 'attrMap',\r\n        isNodeString = 'isNode',\r\n        isElementString = 'isElement',\r\n        d = typeof document === obj ? document : {},\r\n        isType = function(a, type){\r\n            return typeof a === type;\r\n        },\r\n        isNode = typeof Node === fn ? function (object) {\r\n            return object instanceof Node;\r\n        } :\r\n        // in IE <= 8 Node is an object, obviously..\r\n        function(object){\r\n            return object &&\r\n                isType(object, obj) &&\r\n                (nodeType in object) &&\r\n                isType(object.ownerDocument,obj);\r\n        },\r\n        isElement = function (object) {\r\n            return crel[isNodeString](object) && object[nodeType] === 1;\r\n        },\r\n        isArray = function(a){\r\n            return a instanceof Array;\r\n        },\r\n        appendChild = function(element, child) {\r\n          if(!crel[isNodeString](child)){\r\n              child = d.createTextNode(child);\r\n          }\r\n          element.appendChild(child);\r\n        };\r\n\r\n\r\n    function crel(){\r\n        var args = arguments, //Note: assigned to a variable to assist compilers. Saves about 40 bytes in closure compiler. Has negligable effect on performance.\r\n            element = args[0],\r\n            child,\r\n            settings = args[1],\r\n            childIndex = 2,\r\n            argumentsLength = args.length,\r\n            attributeMap = crel[attrMapString];\r\n\r\n        element = crel[isElementString](element) ? element : d.createElement(element);\r\n        // shortcut\r\n        if(argumentsLength === 1){\r\n            return element;\r\n        }\r\n\r\n        if(!isType(settings,obj) || crel[isNodeString](settings) || isArray(settings)) {\r\n            --childIndex;\r\n            settings = null;\r\n        }\r\n\r\n        // shortcut if there is only one child that is a string\r\n        if((argumentsLength - childIndex) === 1 && isType(args[childIndex], 'string') && element[textContent] !== undefined){\r\n            element[textContent] = args[childIndex];\r\n        }else{\r\n            for(; childIndex < argumentsLength; ++childIndex){\r\n                child = args[childIndex];\r\n\r\n                if(child == null){\r\n                    continue;\r\n                }\r\n\r\n                if (isArray(child)) {\r\n                  for (var i=0; i < child.length; ++i) {\r\n                    appendChild(element, child[i]);\r\n                  }\r\n                } else {\r\n                  appendChild(element, child);\r\n                }\r\n            }\r\n        }\r\n\r\n        for(var key in settings){\r\n            if(!attributeMap[key]){\r\n                element[setAttribute](key, settings[key]);\r\n            }else{\r\n                var attr = attributeMap[key];\r\n                if(typeof attr === fn){\r\n                    attr(element, settings[key]);\r\n                }else{\r\n                    element[setAttribute](attr, settings[key]);\r\n                }\r\n            }\r\n        }\r\n\r\n        return element;\r\n    }\r\n\r\n    // Used for mapping one kind of attribute to the supported version of that in bad browsers.\r\n    crel[attrMapString] = {};\r\n\r\n    crel[isElementString] = isElement;\r\n\r\n    crel[isNodeString] = isNode;\r\n\r\n    return crel;\r\n}));\r\n","// Is the entity firmer than the new firmness\nmodule.exports = function(entity, firm){\n    if(firm != null && (entity._firm === undefined || firm < entity._firm)){\n        return true;\n    }\n};","var EventEmitter = require('events').EventEmitter,\n    functionEmitterPrototype = function(){};\n\nfor(var key in EventEmitter.prototype){\n    functionEmitterPrototype[key] = EventEmitter.prototype[key];\n}\n\nmodule.exports = functionEmitterPrototype;","function flatMerge(a,b){\n    if(!b || typeof b !== 'object'){\n        b = {};\n    }\n\n    if(!a || typeof a !== 'object'){\n        a = new b.constructor();\n    }\n\n    var result = new a.constructor(),\n        aKeys = Object.keys(a),\n        bKeys = Object.keys(b);\n\n    for(var i = 0; i < aKeys.length; i++){\n        result[aKeys[i]] = a[aKeys[i]];\n    }\n\n    for(var i = 0; i < bKeys.length; i++){\n        result[bKeys[i]] = b[bKeys[i]];\n    }\n\n    return result;\n}\n\nmodule.exports = flatMerge;","\"use strict\";\n\n/* global module, define */\n\nfunction mapEach(map, operation){\n  var keys = map.keys();\n  var next;\n  while(!(next = keys.next()).done) {\n    operation(map.get(next.value), next.value, map);\n  }\n}\n\nvar Multimap = (function() {\n  var mapCtor;\n  if (typeof Map !== 'undefined') {\n    mapCtor = Map;\n  }\n\n  function Multimap(iterable) {\n    var self = this;\n\n    self._map = mapCtor;\n\n    if (Multimap.Map) {\n      self._map = Multimap.Map;\n    }\n\n    self._ = self._map ? new self._map() : {};\n\n    if (iterable) {\n      iterable.forEach(function(i) {\n        self.set(i[0], i[1]);\n      });\n    }\n  }\n\n  /**\n   * @param {Object} key\n   * @return {Array} An array of values, undefined if no such a key;\n   */\n  Multimap.prototype.get = function(key) {\n    return this._map ? this._.get(key) : this._[key];\n  };\n\n  /**\n   * @param {Object} key\n   * @param {Object} val...\n   */\n  Multimap.prototype.set = function(key, val) {\n    var args = Array.prototype.slice.call(arguments);\n\n    key = args.shift();\n\n    var entry = this.get(key);\n    if (!entry) {\n      entry = [];\n      if (this._map)\n        this._.set(key, entry);\n      else\n        this._[key] = entry;\n    }\n\n    Array.prototype.push.apply(entry, args);\n    return this;\n  };\n\n  /**\n   * @param {Object} key\n   * @param {Object=} val\n   * @return {boolean} true if any thing changed\n   */\n  Multimap.prototype.delete = function(key, val) {\n    if (!this.has(key))\n      return false;\n\n    if (arguments.length == 1) {\n      this._map ? (this._.delete(key)) : (delete this._[key]);\n      return true;\n    } else {\n      var entry = this.get(key);\n      var idx = entry.indexOf(val);\n      if (idx != -1) {\n        entry.splice(idx, 1);\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  /**\n   * @param {Object} key\n   * @param {Object=} val\n   * @return {boolean} whether the map contains 'key' or 'key=>val' pair\n   */\n  Multimap.prototype.has = function(key, val) {\n    var hasKey = this._map ? this._.has(key) : this._.hasOwnProperty(key);\n\n    if (arguments.length == 1 || !hasKey)\n      return hasKey;\n\n    var entry = this.get(key) || [];\n    return entry.indexOf(val) != -1;\n  };\n\n\n  /**\n   * @return {Array} all the keys in the map\n   */\n  Multimap.prototype.keys = function() {\n    if (this._map)\n      return makeIterator(this._.keys());\n\n    return makeIterator(Object.keys(this._));\n  };\n\n  /**\n   * @return {Array} all the values in the map\n   */\n  Multimap.prototype.values = function() {\n    var vals = [];\n    this.forEachEntry(function(entry) {\n      Array.prototype.push.apply(vals, entry);\n    });\n\n    return makeIterator(vals);\n  };\n\n  /**\n   *\n   */\n  Multimap.prototype.forEachEntry = function(iter) {\n    mapEach(this, iter);\n  };\n\n  Multimap.prototype.forEach = function(iter) {\n    var self = this;\n    self.forEachEntry(function(entry, key) {\n      entry.forEach(function(item) {\n        iter(item, key, self);\n      });\n    });\n  };\n\n\n  Multimap.prototype.clear = function() {\n    if (this._map) {\n      this._.clear();\n    } else {\n      this._ = {};\n    }\n  };\n\n  Object.defineProperty(\n    Multimap.prototype,\n    \"size\", {\n      configurable: false,\n      enumerable: true,\n      get: function() {\n        var total = 0;\n\n        mapEach(this, function(value){\n          total += value.length;\n        });\n\n        return total;\n      }\n    });\n\n  var safariNext;\n\n  try{\n    safariNext = new Function('iterator', 'makeIterator', 'var keysArray = []; for(var key of iterator){keysArray.push(key);} return makeIterator(keysArray).next;');\n  }catch(error){\n    // for of not implemented;\n  }\n\n  function makeIterator(iterator){\n    if(Array.isArray(iterator)){\n      var nextIndex = 0;\n\n      return {\n        next: function(){\n          return nextIndex < iterator.length ?\n            {value: iterator[nextIndex++], done: false} :\n          {done: true};\n        }\n      };\n    }\n\n    // Only an issue in safari\n    if(!iterator.next && safariNext){\n      iterator.next = safariNext(iterator, makeIterator);\n    }\n\n    return iterator;\n  }\n\n  return Multimap;\n})();\n\n\nif(typeof exports === 'object' && module && module.exports)\n  module.exports = Multimap;\nelse if(typeof define === 'function' && define.amd)\n  define(function() { return Multimap; });\n","/* jshint node: true */\n'use strict';\n\n/**\n  # defaultcss\n\n  A very simple module for creating a little bit of defaultcss.  This is\n  really useful if you are creating a small JS widget that you want to be\n  completely stylable by the application implementer but would also like it\n  to look \"kind of ok\" if someone want to have a quick play.\n\n  ## How it Works\n\n  The provided css text is injected into the HTML document within the document\n  `<head>` prior to any other `<link>` or `<style>` tags.  This ensures that\n  any definitions that are made within your provided CSS have ample\n  opportunity to be overridden by user defined CSS.\n\n  ## Example Usage\n\n  <<< examples/widget.js\n\n  ## Reference\n\n  ### defaultcss\n\n  ```\n  defaultcss(label, csstext)\n  ```\n\n  Create a new default `style` element and use the provided `label` to\n  generate an id for the element \"%label%_defaultstyle\".  If an existing\n  element with that id is found, then do nothing.\n\n  If not, then create the new element and use the provided `csstext` as\n  `innerText` for th element.\n**/\nmodule.exports = function(label, text) {\n  var styleId = label + '_defaultstyle';\n\n  // look for a DOM element with the style id\n  var styleEl = document.getElementById(styleId);\n\n  // find the first <link> or <style> tag within the document head\n  var firstStyleDef = document.querySelector('link[rel=\"stylesheet\"],style');\n\n  // if we can find a DOM element with that id, then do nothing as a default\n  // style has already been applied\n  if (styleEl) {\n    return styleEl;\n  }\n\n  // otherwise, create a style element\n  styleEl = document.createElement('style');\n  styleEl.innerHTML = text;\n\n  // insert the style element, in order or preference\n  // 1. before the first style related element in the page\n  if (firstStyleDef) {\n    firstStyleDef.parentNode.insertBefore(styleEl, firstStyleDef);\n  }\n  // 2. to the end of the HEAD\n  else if (document.head) {\n    document.head.appendChild(styleEl);\n  }\n  // 3. as the first element in the body\n  else if (document.body && document.body.childNodes.length > 0) {\n    document.body.insertBefore(styleEl, document.body.childNodes[0]);\n  }\n  // 4. in the body\n  else if (document.body) {\n    document.body.appendChild(styleEl);\n  }\n\n  return styleEl;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","var doc = require('./doc'),\r\n    isList = require('./isList'),\r\n    getTargets = require('./getTargets')(doc.document),\r\n    flocProto = [];\r\n\r\nfunction Floc(items){\r\n    this.push.apply(this, items);\r\n}\r\nFloc.prototype = flocProto;\r\nflocProto.constructor = Floc;\r\n\r\nfunction floc(target){\r\n    var instance = getTargets(target);\r\n\r\n    if(!isList(instance)){\r\n        if(instance){\r\n            instance = [instance];\r\n        }else{\r\n            instance = [];\r\n        }\r\n    }\r\n    return new Floc(instance);\r\n}\r\n\r\nvar returnsSelf = 'addClass removeClass append prepend'.split(' ');\r\n\r\nfor(var key in doc){\r\n    if(typeof doc[key] === 'function'){\r\n        floc[key] = doc[key];\r\n        flocProto[key] = (function(key){\r\n            var instance = this;\r\n            // This is also extremely dodgy and fast\r\n            return function(a,b,c,d,e,f){\r\n                var result = doc[key](this, a,b,c,d,e,f);\r\n\r\n                if(result !== doc && isList(result)){\r\n                    return floc(result);\r\n                }\r\n                if(returnsSelf.indexOf(key) >=0){\r\n                    return instance;\r\n                }\r\n                return result;\r\n            };\r\n        }(key));\r\n    }\r\n}\r\nflocProto.on = function(events, target, callback){\r\n    var proxy = this;\r\n    if(typeof target === 'function'){\r\n        callback = target;\r\n        target = this;\r\n        proxy = null;\r\n    }\r\n    doc.on(events, target, callback, proxy);\r\n    return this;\r\n};\r\n\r\nflocProto.off = function(events, target, callback){\r\n    var reference = this;\r\n    if(typeof target === 'function'){\r\n        callback = target;\r\n        target = this;\r\n        reference = null;\r\n    }\r\n    doc.off(events, target, callback, reference);\r\n    return this;\r\n};\r\n\r\nflocProto.ready = function(callback){\r\n    doc.ready(callback);\r\n    return this;\r\n};\r\n\r\nflocProto.addClass = function(className){\r\n    doc.addClass(this, className);\r\n    return this;\r\n};\r\n\r\nflocProto.removeClass = function(className){\r\n    doc.removeClass(this, className);\r\n    return this;\r\n};\r\n\r\nmodule.exports = floc;","module.exports = function isSame(a, b){\n    if(a === b){\n        return true;\n    }\n\n    if(\n        typeof a !== typeof b ||\n        typeof a === 'object' &&\n        !(a instanceof Date && b instanceof Date)\n    ){\n        return false;\n    }\n\n    return String(a) === String(b);\n};","var clone = require('clone'),\n    deepEqual = require('deep-equal');\n\nfunction keysAreDifferent(keys1, keys2){\n    if(keys1 === keys2){\n        return;\n    }\n    if(!keys1 || !keys2 || keys1.length !== keys2.length){\n        return true;\n    }\n    for(var i = 0; i < keys1.length; i++){\n        if(!~keys2.indexOf(keys1[i])){\n            return true;\n        }\n    }\n}\n\nfunction getKeys(value){\n    if(!value || typeof value !== 'object'){\n        return;\n    }\n\n    return Object.keys(value);\n}\n\nfunction WhatChanged(value, changesToTrack){\n    this._changesToTrack = {};\n\n    if(changesToTrack == null){\n        changesToTrack = 'value type keys structure reference';\n    }\n\n    if(typeof changesToTrack !== 'string'){\n        throw 'changesToTrack must be of type string';\n    }\n\n    changesToTrack = changesToTrack.split(' ');\n\n    for (var i = 0; i < changesToTrack.length; i++) {\n        this._changesToTrack[changesToTrack[i]] = true;\n    };\n\n    this.update(value);\n}\nWhatChanged.prototype.update = function(value){\n    var result = {},\n        changesToTrack = this._changesToTrack,\n        newKeys = getKeys(value);\n\n    if('value' in changesToTrack && value+'' !== this._lastReference+''){\n        result.value = true;\n    }\n    if(\n        'type' in changesToTrack && typeof value !== typeof this._lastValue ||\n        (value === null || this._lastValue === null) && this.value !== this._lastValue // typeof null === 'object'\n    ){\n        result.type = true;\n    }\n    if('keys' in changesToTrack && keysAreDifferent(this._lastKeys, getKeys(value))){\n        result.keys = true;\n    }\n\n    if(value !== null && typeof value === 'object' || typeof value === 'function'){\n        var lastValue = this._lastValue;\n\n        if('shallowStructure' in changesToTrack && (!lastValue || typeof lastValue !== 'object' || Object.keys(value).some(function(key, index){\n            return value[key] !== lastValue[key];\n        }))){\n            result.shallowStructure = true;\n        }\n        if('structure' in changesToTrack && !deepEqual(value, lastValue)){\n            result.structure = true;\n        }\n        if('reference' in changesToTrack && value !== this._lastReference){\n            result.reference = true;\n        }\n    }\n\n    this._lastValue = 'structure' in changesToTrack ? clone(value) : 'shallowStructure' in changesToTrack ? clone(value, true, 1): value;\n    this._lastReference = value;\n    this._lastKeys = newKeys;\n\n    return result;\n};\n\nmodule.exports = WhatChanged;","module.exports = Object.setPrototypeOf || {__proto__:[]} instanceof Array ? setProtoOf : mixinProperties;\n\nfunction setProtoOf(obj, proto) {\n\tobj.__proto__ = proto;\n}\n\nfunction mixinProperties(obj, proto) {\n\tfor (var prop in proto) {\n\t\tobj[prop] = proto[prop];\n\t}\n}\n","module.exports = {\n    // bottomSheets: require('./services/bottomSheets'),\n    // pages: require('./services/pages'),\n    // nodes: require('./services/nodes'),\n    \n    // site: require('./services/site'),\n    \n    // session: require('./services/session'),\n    // search: require('./services').search,\n    activityRouter: require(\"./activityRouter\"),\n    models: require(\"./models\"),\n    persistence: require(\"./persistence\"),\n    services: require(\"./services\")\n};","module.exports = {\n    main : require(\"./main\")\n    // ,\n    // info : require('./info')\n}","module.exports = {\n    home: require(\"./home\"),\n    // menus: require('./menus'),\n    history: require(\"./history\"),\n    info: require(\"./info\"),\n    note: require(\"./note\"),\n    resume: require(\"./resume\")\n};","var naturalSelection = require('natural-selection');\n\nmodule.exports = function(element, value){\n    var canSet = naturalSelection(element) && element === document.activeElement;\n\n    if (canSet) {\n        var start = element.selectionStart,\n            end = element.selectionEnd;\n\n        element.value = value;\n        element.setSelectionRange(start, end);\n    } else {\n        element.value = value;\n    }\n};\n","module.exports = function(element){\n    var lastClasses = [];\n\n    return function(classes){\n\n        if(!arguments.length){\n            return lastClasses.join(' ');\n        }\n\n        function cleanClassName(result, className){\n            if(typeof className === 'string' && className.match(/\\s/)){\n                className = className.split(' ');\n            }\n\n            if(Array.isArray(className)){\n                return result.concat(className.reduce(cleanClassName, []));\n            }\n\n            if(className != null && className !== '' && typeof className !== 'boolean'){\n                result.push(String(className).trim());\n            }\n\n            return result;\n        }\n\n        var newClasses = cleanClassName([], classes),\n            currentClasses = element.className ? element.className.split(' ') : [];\n\n        lastClasses.map(function(className){\n            if(!className){\n                return;\n            }\n\n            var index = currentClasses.indexOf(className);\n\n            if(~index){\n                currentClasses.splice(index, 1);\n            }\n        });\n\n        currentClasses = currentClasses.concat(newClasses);\n        lastClasses = newClasses;\n\n        element.className = currentClasses.join(' ');\n    };\n};\n","module.exports = function isList(object){\r\n    return object != null && typeof object === 'object' && 'length' in object && !('nodeType' in object) && object.self != object; // in IE8, window.self is window, but it is not === window, but it is == window......... WTF!?\r\n}","var doc = {\r\n    document: typeof document !== 'undefined' ? document : null,\r\n    setDocument: function(d){\r\n        this.document = d;\r\n    }\r\n};\r\n\r\nvar arrayProto = [],\r\n    isList = require('./isList'),\r\n    getTargets = require('./getTargets')(doc.document),\r\n    getTarget = require('./getTarget')(doc.document),\r\n    space = ' ';\r\n\r\n\r\n///[README.md]\r\n\r\nfunction isIn(array, item){\r\n    for(var i = 0; i < array.length; i++) {\r\n        if(item === array[i]){\r\n            return true;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n\r\n    ## .find\r\n\r\n    finds elements that match the query within the scope of target\r\n\r\n        //fluent\r\n        doc(target).find(query);\r\n\r\n        //legacy\r\n        doc.find(target, query);\r\n*/\r\n\r\nfunction find(target, query){\r\n    target = getTargets(target);\r\n    if(query == null){\r\n        return target;\r\n    }\r\n\r\n    if(isList(target)){\r\n        var results = [];\r\n        for (var i = 0; i < target.length; i++) {\r\n            var subResults = doc.find(target[i], query);\r\n            for(var j = 0; j < subResults.length; j++) {\r\n                if(!isIn(results, subResults[j])){\r\n                    results.push(subResults[j]);\r\n                }\r\n            }\r\n        }\r\n        return results;\r\n    }\r\n\r\n    return target ? target.querySelectorAll(query) : [];\r\n}\r\n\r\n/**\r\n\r\n    ## .findOne\r\n\r\n    finds the first element that matches the query within the scope of target\r\n\r\n        //fluent\r\n        doc(target).findOne(query);\r\n\r\n        //legacy\r\n        doc.findOne(target, query);\r\n*/\r\n\r\nfunction findOne(target, query){\r\n    target = getTarget(target);\r\n    if(query == null){\r\n        return target;\r\n    }\r\n\r\n    if(isList(target)){\r\n        var result;\r\n        for (var i = 0; i < target.length; i++) {\r\n            result = findOne(target[i], query);\r\n            if(result){\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    return target ? target.querySelector(query) : null;\r\n}\r\n\r\n/**\r\n\r\n    ## .closest\r\n\r\n    recurses up the DOM from the target node, checking if the current element matches the query\r\n\r\n        //fluent\r\n        doc(target).closest(query);\r\n\r\n        //legacy\r\n        doc.closest(target, query);\r\n*/\r\n\r\nfunction closest(target, query){\r\n    target = getTarget(target);\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    while(\r\n        target &&\r\n        target.ownerDocument &&\r\n        !is(target, query)\r\n    ){\r\n        target = target.parentNode;\r\n    }\r\n\r\n    return target === doc.document && target !== query ? null : target;\r\n}\r\n\r\n/**\r\n\r\n    ## .is\r\n\r\n    returns true if the target element matches the query\r\n\r\n        //fluent\r\n        doc(target).is(query);\r\n\r\n        //legacy\r\n        doc.is(target, query);\r\n*/\r\n\r\nfunction is(target, query){\r\n    target = getTarget(target);\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    if(!target.ownerDocument || typeof query !== 'string'){\r\n        return target === query;\r\n    }\r\n\r\n    if(target === query){\r\n        return true;\r\n    }\r\n\r\n    var parentless = !target.parentNode;\r\n\r\n    if(parentless){\r\n        // Give the element a parent so that .querySelectorAll can be used\r\n        document.createDocumentFragment().appendChild(target);\r\n    }\r\n\r\n    var result = arrayProto.indexOf.call(find(target.parentNode, query), target) >= 0;\r\n\r\n    if(parentless){\r\n        target.parentNode.removeChild(target);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n\r\n    ## .addClass\r\n\r\n    adds classes to the target (space separated string or array)\r\n\r\n        //fluent\r\n        doc(target).addClass(query);\r\n\r\n        //legacy\r\n        doc.addClass(target, query);\r\n*/\r\n\r\nfunction addClass(target, classes){\r\n    target = getTargets(target);\r\n\r\n    if(isList(target)){\r\n        for (var i = 0; i < target.length; i++) {\r\n            addClass(target[i], classes);\r\n        }\r\n        return this;\r\n    }\r\n    if(!classes){\r\n        return this;\r\n    }\r\n\r\n    var classes = Array.isArray(classes) ? classes : classes.split(space),\r\n        currentClasses = target.classList ? null : target.className.split(space);\r\n\r\n    for(var i = 0; i < classes.length; i++){\r\n        var classToAdd = classes[i];\r\n        if(!classToAdd || classToAdd === space){\r\n            continue;\r\n        }\r\n        if(target.classList){\r\n            target.classList.add(classToAdd);\r\n        } else if(!currentClasses.indexOf(classToAdd)>=0){\r\n            currentClasses.push(classToAdd);\r\n        }\r\n    }\r\n    if(!target.classList){\r\n        target.className = currentClasses.join(space);\r\n    }\r\n    return this;\r\n}\r\n\r\n/**\r\n\r\n    ## .removeClass\r\n\r\n    removes classes from the target (space separated string or array)\r\n\r\n        //fluent\r\n        doc(target).removeClass(query);\r\n\r\n        //legacy\r\n        doc.removeClass(target, query);\r\n*/\r\n\r\nfunction removeClass(target, classes){\r\n    target = getTargets(target);\r\n\r\n    if(isList(target)){\r\n        for (var i = 0; i < target.length; i++) {\r\n            removeClass(target[i], classes);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    if(!classes){\r\n        return this;\r\n    }\r\n\r\n    var classes = Array.isArray(classes) ? classes : classes.split(space),\r\n        currentClasses = target.classList ? null : target.className.split(space);\r\n\r\n    for(var i = 0; i < classes.length; i++){\r\n        var classToRemove = classes[i];\r\n        if(!classToRemove || classToRemove === space){\r\n            continue;\r\n        }\r\n        if(target.classList){\r\n            target.classList.remove(classToRemove);\r\n            continue;\r\n        }\r\n        var removeIndex = currentClasses.indexOf(classToRemove);\r\n        if(removeIndex >= 0){\r\n            currentClasses.splice(removeIndex, 1);\r\n        }\r\n    }\r\n    if(!target.classList){\r\n        target.className = currentClasses.join(space);\r\n    }\r\n    return this;\r\n}\r\n\r\nfunction addEvent(settings){\r\n    var target = getTarget(settings.target);\r\n    if(target){\r\n        target.addEventListener(settings.event, settings.callback, false);\r\n    }else{\r\n        console.warn('No elements matched the selector, so no events were bound.');\r\n    }\r\n}\r\n\r\n/**\r\n\r\n    ## .on\r\n\r\n    binds a callback to a target when a DOM event is raised.\r\n\r\n        //fluent\r\n        doc(target/proxy).on(events, target[optional], callback);\r\n\r\n    note: if a target is passed to the .on function, doc's target will be used as the proxy.\r\n\r\n        //legacy\r\n        doc.on(events, target, query, proxy[optional]);\r\n*/\r\n\r\nfunction on(events, target, callback, proxy){\r\n\r\n    proxy = getTargets(proxy);\r\n\r\n    if(!proxy){\r\n        target = getTargets(target);\r\n        // handles multiple targets\r\n        if(isList(target)){\r\n            var multiRemoveCallbacks = [];\r\n            for (var i = 0; i < target.length; i++) {\r\n                multiRemoveCallbacks.push(on(events, target[i], callback, proxy));\r\n            }\r\n            return function(){\r\n                while(multiRemoveCallbacks.length){\r\n                    multiRemoveCallbacks.pop();\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    // handles multiple proxies\r\n    // Already handles multiple proxies and targets,\r\n    // because the target loop calls this loop.\r\n    if(isList(proxy)){\r\n        var multiRemoveCallbacks = [];\r\n        for (var i = 0; i < proxy.length; i++) {\r\n            multiRemoveCallbacks.push(on(events, target, callback, proxy[i]));\r\n        }\r\n        return function(){\r\n            while(multiRemoveCallbacks.length){\r\n                multiRemoveCallbacks.pop();\r\n            }\r\n        };\r\n    }\r\n\r\n    var removeCallbacks = [];\r\n\r\n    if(typeof events === 'string'){\r\n        events = events.split(space);\r\n    }\r\n\r\n    for(var i = 0; i < events.length; i++){\r\n        var eventSettings = {};\r\n        if(proxy){\r\n            if(proxy === true){\r\n                proxy = doc.document;\r\n            }\r\n            eventSettings.target = proxy;\r\n            eventSettings.callback = function(event){\r\n                var closestTarget = closest(event.target, target);\r\n                if(closestTarget){\r\n                    callback(event, closestTarget);\r\n                }\r\n            };\r\n        }else{\r\n            eventSettings.target = target;\r\n            eventSettings.callback = callback;\r\n        }\r\n\r\n        eventSettings.event = events[i];\r\n\r\n        addEvent(eventSettings);\r\n\r\n        removeCallbacks.push(eventSettings);\r\n    }\r\n\r\n    return function(){\r\n        while(removeCallbacks.length){\r\n            var removeCallback = removeCallbacks.pop();\r\n            getTarget(removeCallback.target).removeEventListener(removeCallback.event, removeCallback.callback);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n\r\n    ## .off\r\n\r\n    removes events assigned to a target.\r\n\r\n        //fluent\r\n        doc(target/proxy).off(events, target[optional], callback);\r\n\r\n    note: if a target is passed to the .on function, doc's target will be used as the proxy.\r\n\r\n        //legacy\r\n        doc.off(events, target, callback, proxy);\r\n*/\r\n\r\nfunction off(events, target, callback, proxy){\r\n    if(isList(target)){\r\n        for (var i = 0; i < target.length; i++) {\r\n            off(events, target[i], callback, proxy);\r\n        }\r\n        return this;\r\n    }\r\n    if(proxy instanceof Array){\r\n        for (var i = 0; i < proxy.length; i++) {\r\n            off(events, target, callback, proxy[i]);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    if(typeof events === 'string'){\r\n        events = events.split(space);\r\n    }\r\n\r\n    if(typeof callback !== 'function'){\r\n        proxy = callback;\r\n        callback = null;\r\n    }\r\n\r\n    proxy = proxy ? getTarget(proxy) : doc.document;\r\n\r\n    var targets = typeof target === 'string' ? find(target, proxy) : [target];\r\n\r\n    for(var targetIndex = 0; targetIndex < targets.length; targetIndex++){\r\n        var currentTarget = targets[targetIndex];\r\n\r\n        for(var i = 0; i < events.length; i++){\r\n            currentTarget.removeEventListener(events[i], callback);\r\n        }\r\n    }\r\n    return this;\r\n}\r\n\r\n/**\r\n\r\n    ## .append\r\n\r\n    adds elements to a target\r\n\r\n        //fluent\r\n        doc(target).append(children);\r\n\r\n        //legacy\r\n        doc.append(target, children);\r\n*/\r\n\r\nfunction append(target, children){\r\n    var target = getTarget(target),\r\n        children = getTarget(children);\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    if(isList(children)){\r\n        for (var i = 0; i < children.length; i++) {\r\n            append(target, children[i]);\r\n        }\r\n        return;\r\n    }\r\n\r\n    target.appendChild(children);\r\n}\r\n\r\n/**\r\n\r\n    ## .prepend\r\n\r\n    adds elements to the front of a target\r\n\r\n        //fluent\r\n        doc(target).prepend(children);\r\n\r\n        //legacy\r\n        doc.prepend(target, children);\r\n*/\r\n\r\nfunction prepend(target, children){\r\n    var target = getTarget(target),\r\n        children = getTarget(children);\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    if(isList(children)){\r\n        //reversed because otherwise the would get put in in the wrong order.\r\n        for (var i = children.length -1; i; i--) {\r\n            prepend(target, children[i]);\r\n        }\r\n        return;\r\n    }\r\n\r\n    target.insertBefore(children, target.firstChild);\r\n}\r\n\r\n/**\r\n\r\n    ## .isVisible\r\n\r\n    checks if an element or any of its parents display properties are set to 'none'\r\n\r\n        //fluent\r\n        doc(target).isVisible();\r\n\r\n        //legacy\r\n        doc.isVisible(target);\r\n*/\r\n\r\nfunction isVisible(target){\r\n    var target = getTarget(target);\r\n    if(!target){\r\n        return;\r\n    }\r\n    if(isList(target)){\r\n        var i = -1;\r\n\r\n        while (target[i++] && isVisible(target[i])) {}\r\n        return target.length >= i;\r\n    }\r\n    while(target.parentNode && target.style.display !== 'none'){\r\n        target = target.parentNode;\r\n    }\r\n\r\n    return target === doc.document;\r\n}\r\n\r\n/**\r\n\r\n    ## .indexOfElement\r\n\r\n    returns the index of the element within it's parent element.\r\n\r\n        //fluent\r\n        doc(target).indexOfElement();\r\n\r\n        //legacy\r\n        doc.indexOfElement(target);\r\n\r\n*/\r\n\r\nfunction indexOfElement(target) {\r\n    target = getTargets(target);\r\n    if(!target){\r\n        return;\r\n    }\r\n\r\n    if(isList(target)){\r\n        target = target[0];\r\n    }\r\n\r\n    var i = -1;\r\n\r\n    var parent = target.parentElement;\r\n\r\n    if(!parent){\r\n        return i;\r\n    }\r\n\r\n    while(parent.children[++i] !== target){}\r\n\r\n    return i;\r\n}\r\n\r\n\r\n/**\r\n\r\n    ## .ready\r\n\r\n    call a callback when the document is ready.\r\n\r\n    returns -1 if there is no parentElement on the target.\r\n\r\n        //fluent\r\n        doc().ready(callback);\r\n\r\n        //legacy\r\n        doc.ready(callback);\r\n*/\r\n\r\nfunction ready(callback){\r\n    if(doc.document && (doc.document.readyState === 'complete' || doc.document.readyState === 'interactive')){\r\n        callback();\r\n    }else if(window.attachEvent){\r\n        document.attachEvent(\"onreadystatechange\", callback);\r\n        window.attachEvent(\"onLoad\",callback);\r\n    }else if(document.addEventListener){\r\n        document.addEventListener(\"DOMContentLoaded\",callback,false);\r\n    }\r\n}\r\n\r\ndoc.find = find;\r\ndoc.findOne = findOne;\r\ndoc.closest = closest;\r\ndoc.is = is;\r\ndoc.addClass = addClass;\r\ndoc.removeClass = removeClass;\r\ndoc.off = off;\r\ndoc.on = on;\r\ndoc.append = append;\r\ndoc.prepend = prepend;\r\ndoc.isVisible = isVisible;\r\ndoc.ready = ready;\r\ndoc.indexOfElement = indexOfElement;\r\n\r\nmodule.exports = doc;","\nvar singleClass = /^\\.\\w+$/,\n    singleId = /^#\\w+$/,\n    singleTag = /^\\w+$/;\n\nmodule.exports = function(document){\n    return function getTargets(target){\n        if(typeof target === 'string'){\n            if(singleId.exec(target)){\n                // If you have more than 1 of the same id in your page,\n                // thats your own stupid fault.\n                return [document.getElementById(target.slice(1))];\n            }\n            if(singleTag.exec(target)){\n                return document.getElementsByTagName(target);\n            }\n            if(singleClass.exec(target)){\n                return document.getElementsByClassName(target.slice(1));\n            }\n            return document.querySelectorAll(target);\n        }\n\n        return target;\n    };\n};","var clone = (function() {\n'use strict';\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n*/\nfunction clone(parent, circular, depth, prototype) {\n  var filter;\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    filter = circular.filter;\n    circular = circular.circular\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth == 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      child = new Buffer(parent.length);\n      parent.copy(child);\n      return child;\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n};\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n};\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n};\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n};\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n};\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n","var pSlice = Array.prototype.slice;\nvar objectKeys = require('./lib/keys.js');\nvar isArguments = require('./lib/is_arguments.js');\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n","var singleId = /^#\\w+$/;\n\nmodule.exports = function(document){\n    return function getTarget(target){\n        if(typeof target === 'string'){\n            if(singleId.exec(target)){\n                return document.getElementById(target.slice(1));\n            }\n            return document.querySelector(target);\n        }\n\n        return target;\n    };\n};","var supportedTypes = ['text', 'search', 'tel', 'url', 'password'];\n\nmodule.exports = function(element){\n    return !!(element.setSelectionRange && ~supportedTypes.indexOf(element.type));\n};\n","module.exports = {\n  search : require(\"./search.js\"),\n  controls : require(\"./controls\"),\n  data : require(\"./data\"),\n  latest : require(\"./latest\"),\n  menus : require(\"./menus\"),\n  stats: require(\"./stats\"),\n  session: require(\"./session.js\")\n}","var createActivityRouter = require(\"activity-router\"),\n    routes = require(\"./routes\"),\n    fastn = require(\"../../fastn\");\n\nvar activityRouter = createActivityRouter(routes),\n    activitiesModel =  new fastn.Model({\n        activities: []\n    }),\n    activitiesBinding = fastn.binding('activities|*').attach(activitiesModel);\n\nfunction updateInfo(route){\n    fastn.Model.set(route, '_info', activityRouter.router.info(route.name));\n}\n\nactivitiesModel.on('.|**', function(activityData){\n    // console.log('activitiesModel: ',activityData);\n});\n\n// Change the default home page name to be 'index'\nactivityRouter.homeRoute = 'home';\n\nactivityRouter.on('add', function(activity, index){\n    updateInfo(activity);\n    activitiesModel.push('activities', activity);\n});\n\nactivityRouter.on('update', function(activity, index){\n    activitiesModel.update('activities.' + index, activity);\n});\n\nactivityRouter.on('replace', function(activity, index){\n    updateInfo(activity);\n    activitiesModel.set('activities.' + index, activity);\n});\n\nactivityRouter.on('remove', function(activity, index){\n    activitiesModel.remove('activities', index);\n});\n\nactivityRouter.binding = activitiesBinding;\n\nactivityRouter.init();\n\nmodule.exports = activityRouter;","module.exports = {\n  nrds : require(\"./nrds\")\n}","module.exports = {\n  session: require(\"./session\"),\n  menus: require(\"./menus\")\n}","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar rootParent = {}\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.foo = function () { return 42 }\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (arg) {\n  if (!(this instanceof Buffer)) {\n    // Avoid going through an ArgumentsAdaptorTrampoline in the common case.\n    if (arguments.length > 1) return new Buffer(arg, arguments[1])\n    return new Buffer(arg)\n  }\n\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    this.length = 0\n    this.parent = undefined\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    return fromNumber(this, arg)\n  }\n\n  // Slightly less common case.\n  if (typeof arg === 'string') {\n    return fromString(this, arg, arguments.length > 1 ? arguments[1] : 'utf8')\n  }\n\n  // Unusual.\n  return fromObject(this, arg)\n}\n\nfunction fromNumber (that, length) {\n  that = allocate(that, length < 0 ? 0 : checked(length) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < length; i++) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') encoding = 'utf8'\n\n  // Assumption: byteLength() return value is always < kMaxLength.\n  var length = byteLength(string, encoding) | 0\n  that = allocate(that, length)\n\n  that.write(string, encoding)\n  return that\n}\n\nfunction fromObject (that, object) {\n  if (Buffer.isBuffer(object)) return fromBuffer(that, object)\n\n  if (isArray(object)) return fromArray(that, object)\n\n  if (object == null) {\n    throw new TypeError('must start with number, buffer, array or string')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined') {\n    if (object.buffer instanceof ArrayBuffer) {\n      return fromTypedArray(that, object)\n    }\n    if (object instanceof ArrayBuffer) {\n      return fromArrayBuffer(that, object)\n    }\n  }\n\n  if (object.length) return fromArrayLike(that, object)\n\n  return fromJsonObject(that, object)\n}\n\nfunction fromBuffer (that, buffer) {\n  var length = checked(buffer.length) | 0\n  that = allocate(that, length)\n  buffer.copy(that, 0, 0, length)\n  return that\n}\n\nfunction fromArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Duplicate of fromArray() to keep fromArray() monomorphic.\nfunction fromTypedArray (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  // Truncating the elements is probably not what people expect from typed\n  // arrays with BYTES_PER_ELEMENT > 1 but it's compatible with the behavior\n  // of the old Buffer constructor.\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(array)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromTypedArray(that, new Uint8Array(array))\n  }\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = checked(array.length) | 0\n  that = allocate(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\n// Deserialize { type: 'Buffer', data: [1,2,3,...] } into a Buffer object.\n// Returns a zero-length buffer for inputs that don't conform to the spec.\nfunction fromJsonObject (that, object) {\n  var array\n  var length = 0\n\n  if (object.type === 'Buffer' && isArray(object.data)) {\n    array = object.data\n    length = checked(array.length) | 0\n  }\n  that = allocate(that, length)\n\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n} else {\n  // pre-set for values that may exist in the future\n  Buffer.prototype.length = undefined\n  Buffer.prototype.parent = undefined\n}\n\nfunction allocate (that, length) {\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that.length = length\n  }\n\n  var fromPool = length !== 0 && length <= Buffer.poolSize >>> 1\n  if (fromPool) that.parent = rootParent\n\n  return that\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (subject, encoding) {\n  if (!(this instanceof SlowBuffer)) return new SlowBuffer(subject, encoding)\n\n  var buf = new Buffer(subject, encoding)\n  delete buf.parent\n  return buf\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  var i = 0\n  var len = Math.min(x, y)\n  while (i < len) {\n    if (a[i] !== b[i]) break\n\n    ++i\n  }\n\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) throw new TypeError('list argument must be an Array of Buffers.')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; i++) {\n      length += list[i].length\n    }\n  }\n\n  var buf = new Buffer(length)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nfunction byteLength (string, encoding) {\n  if (typeof string !== 'string') string = '' + string\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'binary':\n      // Deprecated\n      case 'raw':\n      case 'raws':\n        return len\n      case 'utf8':\n      case 'utf-8':\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  start = start | 0\n  end = end === undefined || end === Infinity ? this.length : end | 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// Even though this property is private, it shouldn't be removed because it is\n// used by `is-buffer` to detect buffer instances in Safari 5-7.\nBuffer.prototype._isBuffer = true\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return 0\n  return Buffer.compare(this, b)\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset) {\n  if (byteOffset > 0x7fffffff) byteOffset = 0x7fffffff\n  else if (byteOffset < -0x80000000) byteOffset = -0x80000000\n  byteOffset >>= 0\n\n  if (this.length === 0) return -1\n  if (byteOffset >= this.length) return -1\n\n  // Negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = Math.max(this.length + byteOffset, 0)\n\n  if (typeof val === 'string') {\n    if (val.length === 0) return -1 // special case: looking for empty string always fails\n    return String.prototype.indexOf.call(this, val, byteOffset)\n  }\n  if (Buffer.isBuffer(val)) {\n    return arrayIndexOf(this, val, byteOffset)\n  }\n  if (typeof val === 'number') {\n    if (Buffer.TYPED_ARRAY_SUPPORT && Uint8Array.prototype.indexOf === 'function') {\n      return Uint8Array.prototype.indexOf.call(this, val, byteOffset)\n    }\n    return arrayIndexOf(this, [ val ], byteOffset)\n  }\n\n  function arrayIndexOf (arr, val, byteOffset) {\n    var foundIndex = -1\n    for (var i = 0; byteOffset + i < arr.length; i++) {\n      if (arr[byteOffset + i] === val[foundIndex === -1 ? 0 : i - foundIndex]) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === val.length) return byteOffset + foundIndex\n      } else {\n        foundIndex = -1\n      }\n    }\n    return -1\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) throw new Error('Invalid hex string')\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    var swap = encoding\n    encoding = offset\n    offset = length | 0\n    length = swap\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'binary':\n        return binaryWrite(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  if (newBuf.length) newBuf.parent = this.parent || this\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkInt(this, value, offset, byteLength, Math.pow(2, 8 * byteLength), 0)\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = value < 0 ? 1 : 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new RangeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('index out of range')\n  if (offset < 0) throw new RangeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; i--) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; i++) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function fill (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new RangeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new RangeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new RangeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; i++) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n","exports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n","var supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\");\n    \nvar main = fastn('modal', {class: 'mainMenu'},\n    fastn('div',{class:'cross'},\n        // fastn('div',{class:'menuTitle'}, fastn.binding('main.label')),\n        fastn('i', {'class': 'mdi mdi-close'}) )\n        .on('click',function(event, scope){\n            event.preventDefault();\n            main.show(false);\n        }),\n    fastn('list',{\n        class: 'main-items', \n        items: fastn.binding('main.controls|*'),\n        template: function(model){\n            return  fastn('div',{class:'main-item'},\n                    fastn('i', {'class': fastn.binding('item.mdi',function(icon){\n                                return 'mdi mdi-' + icon; \n                            })\n                        }),\n                    fastn('div',{class:'menu-label'},fastn.binding('item.label'))\n                )\n                .on('click', function(event, scope) {\n                    app.activityRouter.top(scope.get('item.target'));\n                    main.show(false);// require('../menus').main.show(true);\n                });\n            }\n        }    \n    )\n).attach(app.models.menus.model);\n\nmain.render();\n\ndocument.body.appendChild(main.element);\n        \nmodule.exports = main;","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\");\n    // ,\n    // resumeSchema  = require('resume-schema');\n    \n    // console.log('resumeSchema', resumeSchema);    \n\nmodule.exports = function( activityModel ){\n    return fastn('div', {class: 'infoPage'}, \n        fastn('div',{class:'infoTitle'}, 'TODO - 25 Jan \\'16 ')\n        // fastn('list', {\n        //     class: 'homeDetails',\n        //     items: fastn.binding('data|*'),\n        //     template: function(model){\n        //        return fastn('div', {class: 'homeDetailsItem'},)\n        //     }\n        // }),\n        // fastn('div',{class: 'noteTitle'}, fastn.binding('currentData.title') ),\n        // fastn('div',{class: 'noteSource'}, fastn.binding('currentData.source') ),\n        // fastn('div',{class: 'noteDate'}, fastn.binding('currentData.date',function(dateStr){\n        //     var date = new Date(dateStr)\n        //     var d = date.getDay();\n        //     var m = month[date.getMonth()];\n        //     var y = date.getFullYear();\n        //     return 'Published on ' + d + ' ' + m + ' ' + y;\n        // }) ),\n        // fastn('div',{class: 'noteFullText'}, fastn.binding('currentData.fullText') )\n    ).attach(app.models.data.model);\n}\n","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\")   ;\n        \nmodule.exports = function( activityModel ){\n    return fastn('div', {class: 'homePage'},\n        fastn('list', {\n            class: 'homeDetails',\n            items: fastn.binding('notes|*'),\n            template: function(model){\n               return fastn('div', {class: 'homeDetailsItem'},\n                        fastn('div',{class: 'homeDetailItemTitle'}, fastn.binding('item.title') ),\n                        fastn('div',{class: 'homeDetailItemSource'}, fastn.binding('item.source') ),\n                        fastn('div',{class: 'homeDetailItemDate'}, fastn.binding('item.date',function(dateStr){\n                            var date = new Date(dateStr)\n                            var d = date.getDay();\n                            var m = month[date.getMonth()];\n                            var y = date.getFullYear();\n                            return 'Published on ' + d + ' ' + m + ' ' + y;\n                        }) ),\n                        fastn('div',{class: 'homeDetailItemSnippit'}, fastn.binding('item.snippit') )\n                    ).on('click',function(event, scope){\n                        event.preventDefault();\n                        // app.loader.show(true);\n                        app.activityRouter.top('note', { _id : scope.get('item._id') });\n                        // app.controls.getNTF(scope.get('item._id'), function(){\n                        //     app.loader.show(false);\n                            \n                        // });\n                    })\n            }\n        })\n    ).attach(app.models.data.model);\n}\nvar month = new Array();\nmonth[0] = \"Jan\";\nmonth[1] = \"Feb\";\nmonth[2] = \"Mar\";\nmonth[3] = \"Apr\";\nmonth[4] = \"May\";\nmonth[5] = \"Jun\";\nmonth[6] = \"Jul\";\nmonth[7] = \"Aug\";\nmonth[8] = \"Sep\";\nmonth[9] = \"Oct\";\nmonth[10] = \"Nov\";\nmonth[11] = \"Dec\";\n","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\");\n        \nmodule.exports = function( activityModel ){\n    return fastn('div', {class: 'notePage'}, \n        fastn('div',{class: 'noteTitle'}, fastn.binding('currentNote.title') ),\n        \n        fastn('div',{class: 'noteSource'}, fastn.binding('currentNote.source') ),\n        fastn('div',{class: 'noteDate'}, fastn.binding('currentNote.date',function(dateStr){\n            var date = new Date(dateStr)\n            var d = date.getDay();\n            var m = month[date.getMonth()];\n            var y = date.getFullYear();\n            return 'Published on ' + d + ' ' + m + ' ' + y;\n        }) ),\n        \n        fastn('div',{class: 'noteFullText'}, fastn.binding('currentNote.fullText') )\n        \n        // fastn('list', {\n        //     class: 'homeDetails',\n        //     items: fastn.binding('currentNote|*'),\n        //     template: function(model){\n        //         console.log( model );\n        //         console.log( fastn.binding('currentNote'));\n        //        return fastn('div', {class: 'homeDetailsItem'},\n        //                     'Key ', fastn.binding('key'), ', vlue: ', fastn.binding('key') \n        //                 )\n                    \n        //     }\n        // })\n    ).attach(app.models.data.model);\n}\n\n\nvar month = new Array();\nmonth[0] = \"Jan\";\nmonth[1] = \"Feb\";\nmonth[2] = \"Mar\";\nmonth[3] = \"Apr\";\nmonth[4] = \"May\";\nmonth[5] = \"Jun\";\nmonth[6] = \"Jul\";\nmonth[7] = \"Aug\";\nmonth[8] = \"Sep\";\nmonth[9] = \"Oct\";\nmonth[10] = \"Nov\";\nmonth[11] = \"Dec\";\n","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\");\n    \nmodule.exports = function( activityModel ){\n    return fastn('div', {class: 'infoPage'}, \n            fastn('div',{class:'infoTitle'}, 'note to file - 25 Jan \\'16 '),\n            fastn('div', {class: 'introPhoto'}, \n                fastn('img', { src: fastn.binding('currentPhoto', function(base){\n                        return 'data:image/jpg;base64,' + base;\n                    })\n                })\n            ),\n            fastn('div',{class:'appDetails'}, 'ABOUT MYSELF:'),\n            fastn('div',{class:'appDetails'}, 'Today I am mostly interested in ways that Node.js and NoSQL can meet our system requirements. JavaScript has really moved a lot since I first looked at it many years ago, and with server-side capabilities of Node, and access to the file system, it just makes sense to do full stack javaScript these days.'),\n            fastn('div',{class:'appDetails'}, 'That said however, I\\'m the first to admit I have a very wide variety of interests. The primary aim of this app is to document those interests, my thoughts about them, and to give you access them! Facebook does this, Twitter, etc., but \"the I\" is distributed by these systems. Also I needed an app to demo my skills, so this is my app.'),\n            fastn('div',{class:'appDetails'}, 'I began learning javaScript in my 20\\'s, just after it first came out in Netscape, however it was seen as a toy language back then so I moved my career to VisualBasic but I didn\\'t like being constrained to MS. My next programming language was Perl, which I started about 10 years ago and used in a production environment. '),\n            fastn('div',{class:'appDetails'}, 'There has always been a philosophical element to my life and education. Philosophy somehow justifies the variety of interests.'),\n            fastn('div',{class: 'appInfo'}, \n                fastn('div',{class:'appDetails'}, 'ABOUT THE APP:'),\n                fastn('div',{class:'appDetails'},  'I wrote this app using the ', \n                    fastn('a',{\n                        href: 'http://korynunn.github.io/fastn/'\n                    }, 'fastn'),\n                    ' toolkit, along with a bit of ',\n                    fastn('a',{\n                        href: 'https://nodejs.org/en/'\n                    }, 'Node.js')\n                    ,' and a bit of ',\n                    fastn('a',{\n                        href: 'http://stylus-lang.com/'\n                    }, 'Stylus'),\n                    ' for css processing. It is a work in progress.' \n                )\n            )\n        ).attach(app.models.stats.model);\n}\n\n","var fastn = require(\"../../fastn\"),\n    app = require(\"../../app\"),\n    simpleDate = require(\"simple-date\"),\n    titlecase = require(\"titlecase\");\n    // ,\n    // resumeSchema  = require('resume-schema');\n    \n    // console.log('resumeSchema', resumeSchema);    \n\nmodule.exports = function( activityModel ){\n    \n    return fastn('div', {class: 'resumePage'}, \n        fastn('div',{class: 'noteTitle'}, 'resume' ),\n        fastn('list', {\n            class: 'resumeDetails',\n            items: fastn.binding('jsonresume|*'),\n            template: function(model){\n               return fastn('div', {class: 'resumeSection'}, \n                    fastn('div',{class: 'resumeSectionTitle'}, fastn.binding('key')),\n                    fastn('list', {\n                        items: fastn.binding('item|*'),\n                        template: function(){\n                            return fastn('div',{class: 'resumeSectionItems'}, \n                                fastn('list', {\n                                    items: fastn.binding('item|*'),\n                                    template: function(){\n                                        return fastn('div',{class: 'resumeItem'}, fastn.binding('.',function(dat){\n                                            \n                                            var item = ( dat.key.toString().match(/date/gi) ) ? simpleDate.format(new Date(dat.item),'dmy') : dat.item;\n                                            return titlecase(dat.key.toString()) + ': ' + item ;\n                                        }) ); \n                                        \n                                    }\n                                })\n                            );\n                                // fastn.binding('item'),':',fastn.binding('value') );\n                        }\n                    })\n                );\n            }\n        })\n    ).attach(app.models.data.model);\n}\n\n// jsonresume\":{\n//           \"basics\": {\n//             \"name\": \"Sholto Maud\",\n//             \"label\": \"Programmer\",\n//             \"picture\": \"\",\n//             \"email\": \"sholto.maud@gmail.com\",\n//             \"phone\": \"+61 (0) 424 094 227\",\n//             \"url\": \"http://shotlom.github.io\",\n//             \"location\": {\n//               \"address\": \"Unit 9A 1a St Johns College\",\n//               \"postalCode\": \"4067\",\n//               \"city\": \"St Lucia\",\n//               \"countryCode\": \"AUS\",\n//               \"region\": \"Queensland\"\n//             },\n//             \"profiles\": [{\n//               \"network\": \"Twitter\",\n//               \"username\": \"sholtomaud\",\n//               \"url\": \"http://twitter.com/sholtomaud\"\n//             },{\n//               \"network\": \"LinkedIn\",\n//               \"username\": \"Sholto Maud\",\n//               \"url\": \"https://www.linkedin.com/in/sholtomaud\"\n//             }]\n//           },\n\n\nvar month = new Array();\nmonth[0] = \"Jan\";\nmonth[1] = \"Feb\";\nmonth[2] = \"Mar\";\nmonth[3] = \"Apr\";\nmonth[4] = \"May\";\nmonth[5] = \"Jun\";\nmonth[6] = \"Jul\";\nmonth[7] = \"Aug\";\nmonth[8] = \"Sep\";\nmonth[9] = \"Oct\";\nmonth[10] = \"Nov\";\nmonth[11] = \"Dec\";\n\n\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n",";(function (exports) {\n  'use strict'\n\n  var lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n  var PLUS = '+'.charCodeAt(0)\n  var SLASH = '/'.charCodeAt(0)\n  var NUMBER = '0'.charCodeAt(0)\n  var LOWER = 'a'.charCodeAt(0)\n  var UPPER = 'A'.charCodeAt(0)\n  var PLUS_URL_SAFE = '-'.charCodeAt(0)\n  var SLASH_URL_SAFE = '_'.charCodeAt(0)\n\n  function decode (elt) {\n    var code = elt.charCodeAt(0)\n    if (code === PLUS || code === PLUS_URL_SAFE) return 62 // '+'\n    if (code === SLASH || code === SLASH_URL_SAFE) return 63 // '/'\n    if (code < NUMBER) return -1 // no match\n    if (code < NUMBER + 10) return code - NUMBER + 26 + 26\n    if (code < UPPER + 26) return code - UPPER\n    if (code < LOWER + 26) return code - LOWER + 26\n  }\n\n  function b64ToByteArray (b64) {\n    var i, j, l, tmp, placeHolders, arr\n\n    if (b64.length % 4 > 0) {\n      throw new Error('Invalid string. Length must be a multiple of 4')\n    }\n\n    // the number of equal signs (place holders)\n    // if there are two placeholders, than the two characters before it\n    // represent one byte\n    // if there is only one, then the three characters before it represent 2 bytes\n    // this is just a cheap hack to not do indexOf twice\n    var len = b64.length\n    placeHolders = b64.charAt(len - 2) === '=' ? 2 : b64.charAt(len - 1) === '=' ? 1 : 0\n\n    // base64 is 4/3 + up to two characters of the original data\n    arr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n    // if there are placeholders, only get up to the last complete 4 chars\n    l = placeHolders > 0 ? b64.length - 4 : b64.length\n\n    var L = 0\n\n    function push (v) {\n      arr[L++] = v\n    }\n\n    for (i = 0, j = 0; i < l; i += 4, j += 3) {\n      tmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n      push((tmp & 0xFF0000) >> 16)\n      push((tmp & 0xFF00) >> 8)\n      push(tmp & 0xFF)\n    }\n\n    if (placeHolders === 2) {\n      tmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n      push(tmp & 0xFF)\n    } else if (placeHolders === 1) {\n      tmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n      push((tmp >> 8) & 0xFF)\n      push(tmp & 0xFF)\n    }\n\n    return arr\n  }\n\n  function uint8ToBase64 (uint8) {\n    var i\n    var extraBytes = uint8.length % 3 // if we have 1 byte left, pad 2 bytes\n    var output = ''\n    var temp, length\n\n    function encode (num) {\n      return lookup.charAt(num)\n    }\n\n    function tripletToBase64 (num) {\n      return encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n    }\n\n    // go through the array every three bytes, we'll deal with trailing stuff later\n    for (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n      temp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n      output += tripletToBase64(temp)\n    }\n\n    // pad the end with zeros, but make sure to not forget the extra bytes\n    switch (extraBytes) {\n      case 1:\n        temp = uint8[uint8.length - 1]\n        output += encode(temp >> 2)\n        output += encode((temp << 4) & 0x3F)\n        output += '=='\n        break\n      case 2:\n        temp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n        output += encode(temp >> 10)\n        output += encode((temp >> 4) & 0x3F)\n        output += encode((temp << 2) & 0x3F)\n        output += '='\n        break\n      default:\n        break\n    }\n\n    return output\n  }\n\n  exports.toByteArray = b64ToByteArray\n  exports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n","var fastn = require(\"../../fastn\"),\n    searchModel = new fastn.Model({\n        searchString: null,\n        searchResult: null,\n        markersResult: null\n    }),\n    Search = require(\"../services\").search,\n    token = require(\"./session\").token;\n\n//debug\nsearchModel.on('.|**', function(data){\n   // console.log('searchModel changed debug: ',data);\n});\n\nfunction searchSite ( data ){\n    Search.site( token(), data, function (error, data){\n        if(error){\n            console.log(error)\n        }\n        searchModel.set('searchResult', data);     \n    });\n}\n\nfunction searchReset(){\n    searchModel.set( 'searchString', null );\n}\n\nvar site = fastn.binding('searchString').attach(searchModel)\n    .on('change', function (data){\n        if(!data || data == ' ' || data == '  '){\n            searchModel.set('searchResult',null);\n            return;\n        }\n        var search ={}\n        search['field'] = 'rn';\n        search['value'] = data;\n        searchSite(search);\n    });\n\n\nmodule.exports = {\n  model : searchModel,\n  site: site,\n  reset: searchReset\n}","var fastn = require(\"../../fastn\"),\n    Session = require(\"../services\").session;\n\nvar sessionModel = new fastn.Model({\n    loginError: null\n});\n\n// debugging\nsessionModel.on('.|**', function(sessionData){\n    // console.log('sessionData model change',sessionData);\n});\n\n\nmodule.exports = {\n  model: sessionModel,\n  setSession: function(sessionData){\n    sessionModel.update(sessionData);\n  },\n  token: fastn.binding('session.token').attach(sessionModel),\n  loginMessage: fastn.binding('loginError').attach(sessionModel),\n  userName: fastn.binding('session.userName').attach(sessionModel),\n  userAccessLevel: fastn.binding('session.userAccessLevel').attach(sessionModel),\n  company: fastn.binding('session.companyId').attach(sessionModel)\n};\n","var fastn = require(\"../../fastn\"),\n    controlsModel = new fastn.Model({\n        login: {\n            \"23049823\": {\n                \"_id\": \"23049823\",\n                \"element\":\"i\",\n                \"class\": \"mdi mdi-menu\",\n                \"action\": \"login\",\n                \"targetType\": null,\n                \"enabled\": true\n            },\n            \"23049825\": {\n                \"_id\": \"23049825\",\n                \"element\":\"button\",\n                \"class\": \"login\",\n                \"loader\": true,\n                \"action\": \"newUser\",\n                \"enabled\": true\n            },\n            \"23049824\":{\n                \"_id\": \"23049824\",\n                \"element\":\"i\",\n                \"class\": \"mdi mdi-edit\",\n                \"name\": \"menu\",\n                \"tooltip\": \"Edit\",\n                \"action\": \"show\",\n                \"targetId\": \"5453434545345345345345\",\n                \"enabled\": true\n            },\n            \"23049826\":{ \n                \"_id\": \"23049826\",\n                \"applicationId\": \"5691b43ad4f28a0e49df0bab\",\n                \"class\": \"mdi mdi-menu\",\n                \"element\": \"div\",\n                \"enabled\": true,\n                \"name\": \"mdi mdi-menu\",\n                \"type\": \"control\",\n                \"targetId\":\"569378e4d4f28a0e49df0bcc\",\n                \"targetType\": \"menus\",\n                \"action\": \"toggle\",\n                \"userAccessLevel\": 0\n            }\n        },\n        app: {}  \n    }),\n    Controls = require(\"../services\").controls;\n\ncontrolsModel.on('.|*', function (data){\n  // console.log('controlsModel data: ',data);\n})\n\nfunction set( id ){\n    Controls.get( id, function ( controls ){\n        // controlsModel.set( controls );\n    })\n}\n\nfunction get( id , callback ){\n    var control = controlsModel.get( 'login.' + id );\n    return callback( null, control );\n}\n\nfunction setAppControls( controls , callback ){\n    controlsModel.set( 'app', controls );\n    return callback( null, null );\n}\n\n//page controls\n//bar controls \n//\n\nmodule.exports = {\n  model: controlsModel,\n  set: set, \n  get: get\n};\n","var fastn = require(\"../../fastn\"),\n    fs = require(\"fs\"),\n    dataModel = new fastn.Model({\n        \"currentNote\":{\n              \"_id\":\"01\",\n              \"title\": \"Small complaints about something\",\n              \"source\": \"@sholtomaud\",\n              \"mdi\": \"Twitter\",\n              \"date\": \"2015-12-23T18:25:43.511Z\",\n              \"snippit\": \"Why does the issue\",\n              \"fullText\": \"Why does an issue always seems to be \\\"something rather\\\", rather than, \\\"nothing rather\\\"? Indeed, why is there some issue rather than no issue? This is the question.\",\n              \"url\": \"http://twitter.com/sholtomaud\"\n        },\n        \"jsonresume\":{\n          \"basics\": {\n            \"name\": \"Sholto Maud\",\n            \"label\": \"Programmer\",\n            \"picture\": \"\",\n            \"email\": \"sholto.maud@gmail.com\",\n            \"phone\": \"+61 (0) 424 094 227\",\n            \"url\": \"http://shotlom.github.io\",\n            \"location\": {\n              \"address\": \"Unit 9A 1a St Johns College\",\n              \"postalCode\": \"4067\",\n              \"city\": \"St Lucia\",\n              \"countryCode\": \"AUS\",\n              \"region\": \"Queensland\"\n            },\n            \"profiles\": [{\n              \"network\": \"Twitter\",\n              \"username\": \"sholtomaud\",\n              \"url\": \"http://twitter.com/sholtomaud\"\n            },{\n              \"network\": \"LinkedIn\",\n              \"username\": \"Sholto Maud\",\n              \"url\": \"https://www.linkedin.com/in/sholtomaud\"\n            }]\n          },\n          \"work\": [{\n            \"company\": \"St John's College\",\n            \"position\": \"Junior Dean\",\n            \"startDate\": \"2015-02-01\",\n            \"endDate\": \"2015-11-01\",\n            \"summary\": \"The role of Junior Dean involved both weekend caretaker duties, and providing pastoral support to students of the College.\"\n          },{\n            \"company\": \"Thiess\",\n            \"position\": \"Hydrology Database Administrator and Developer\",\n            \"website\": \"https://www.thiess.com\",\n            \"startDate\": \"2014-07-01\",\n            \"endDate\": \"2015-04-01\",\n            \"highlights\":[\"Documentation & testing of legacy batch files\",\"Cloud system PoC\",\"Ratings Operational Report App Developed\"],\n            \"summary\": \"I was brought on board Thiess to conduct a review of the legacy data systems developed over 20 years. This included successful Proof of Concept testing of a AWS cloud-based Architecture for the Hydstra System.\"\n          },{\n            \"company\": \"Arrow Energy\",\n            \"position\": \"Hydrogeology Database Coordinator and Developer\",\n            \"website\": \"https://www.arrowenergy.com.au\",\n            \"startDate\": \"2012-07-01\",\n            \"endDate\": \"2014-07-01\",\n            \"summary\": \"At Arrow Energy .\"\n          },{\n            \"company\": \"Kisters Pty Ltd\",\n            \"position\": \"Systems Engineer\",\n            \"website\": \"https://www.kisters.com.au\",\n            \"startDate\": \"2010-05-01\",\n            \"endDate\": \"2012-06-01\",\n            \"summary\": \"My time with Kisters Pty Ltd was a highly valuable experience, with a small group of very skilled people in a production environment. In such a small business everyone punched above their weight and wore many hats. I was therefore responsible for a variety of roles including code development, project management,  customer support, documentation and technical consulting.\"\n          },{\n            \"company\": \"Melbourne Water\",\n            \"position\": \"Systems Engineer\",\n            \"website\": \"https://www.melbournewater.com.au\",\n            \"startDate\": \"2008-02-01\",\n            \"endDate\": \"2010-05-01\",\n            \"summary\": \".\"\n          },{\n            \"company\": \"RMIT University\",\n            \"position\": \"Research Assistant\",\n            \"website\": \"https://www.rmit.edu.au\",\n            \"startDate\": \"2007-01-01\",\n            \"endDate\": \"2008-01-01\",\n            \"summary\": \"\"\n          },{\n            \"company\": \"Village Green\",\n            \"position\": \"Principle Development Manager\",\n            \"website\": \"http://www.villagegreenglobal.com/\",\n            \"startDate\": \"2004-04-01\",\n            \"endDate\": \"2006-12-20\",\n            \"summary\": \"\"\n          },{\n            \"company\": \"Mars Confectionery Australia\",\n            \"position\": \"Manufacturing\",\n            \"website\": \"http://www.mars.com/australia/en/brands/chocolate.aspx\",\n            \"startDate\": \"1990-04-01\",\n            \"endDate\": \"1997-12-20\",\n            \"summary\": \"\"\n          }],\n          \"education\": [{\n            \"institution\": \"University of Queensland\",\n            \"area\": \"Systems Engineering, Legal & Financial Risk, Hydrogeology, Coal Seam Gas\",\n            \"studyType\": \"PhD\",\n            \"startDate\": \"2015-01-01\"\n          },{\n            \"institution\": \"RMIT University\",\n            \"area\": \"Systems Engineering\",\n            \"studyType\": \"Master\",\n            \"startDate\": \"2008-01-01\",\n            \"endDate\": \"2012-01-01\"\n          },{\n            \"institution\": \"University of Melbourne\",\n            \"area\": \"Philosophy\",\n            \"studyType\": \"Post Graduate Diploma\",\n            \"startDate\": \"2002-01-01\",\n            \"endDate\": \"2003-01-01\"\n          },{\n            \"institution\": \"Monash University\",\n            \"area\": \"Environmental Science and Philosophy\",\n            \"studyType\": \"Bachelor\",\n            \"startDate\": \"1997-01-01\",\n            \"endDate\": \"2002-01-01\"\n          },{\n            \"institution\": \"Ballarat High School\",\n            \"studyType\": \"High School Certificate\",\n            \"startDate\": \"1984-01-01\",\n            \"endDate\": \"1990-01-01\"\n          }],\n          \"publications\": [{\n            \"name\": \"Publication\",\n            \"publisher\": \"Company\",\n            \"releaseDate\": \"2014-10-01\",\n            \"website\": \"http://publication.com\",\n            \"summary\": \"Description...\"\n          }],\n          \"skills\": [{\n            \"name\": \"Web Development\",\n            \"level\": \"Intermediate-Advanced\",\n            \"keywords\": [\n              \"Node.js\",\n              \"Stylus\",\n              \"MongoDB\",\n              \"NoSQL\",\n              \"SQL\",\n              \"Object Oriented Perl\",\n              \"Moose\",\n              \"Cordova\",\n              \"Frontend\",\n              \"Backend\",\n              \"Rest API\",\n              \"AWS\",\n              \"javaScript\"\n            ]\n          }],\n          \"languages\": [{\n            \"language\": \"English\",\n            \"fluency\": \"Native speaker\"\n          }],\n          \"interests\": [{\n            \"name\": \"Model Based Systems Engineering\",\n            \"keywords\": [\n              \"Systems Engineering\"\n            ]\n          },{\n            \"name\": \"Philosophy\",\n            \"keywords\": [\n              \"Leibniz\",\n              \"Social\",\n              \"Political\",\n              \"Economic\",\n              \"Ecological\",\n              \"Natural\",\n              \"Simulation\"\n            ]\n          }],\n          \"references\": [{\n            \"name\": \"Jane Doe\",\n            \"reference\": \"Reference...\"\n          }]\n        }  \n    }),\n    ntf = {\n    \"notes\":[\n            {\n              \"_id\":\"01\",\n              \"title\": \"Much complaint about nothing\",\n              \"source\": \"@sholtomaud\",\n              \"mdi\": \"Twitter\",\n              \"date\": \"2015-12-23T18:25:43.511Z\",\n              \"snippit\": \"Why does the issue ...\",\n              \"url\": \"http://twitter.com/sholtomaud\"\n            },{\n              \"_id\":\"02\",\n              \"title\": \"Some FB entry\",\n              \"source\": \"facebook\",\n              \"mdi\": \"Twitter\",\n              \"date\": \"2013-07-10T18:25:43.511Z\",\n              \"snippit\": \"Some spam  ...\",\n              \"url\": \"http://twitter.com/sholtomaud\"\n            },{\n              \"_id\":\"03\",\n              \"title\": \"Some blog entry\",\n              \"source\": \"@sholtoblog\",\n              \"mdi\": \"Twitter\",\n              \"date\": \"2012-04-02T18:25:43.511Z\",\n              \"snippit\": \"Some such ...\",\n              \"url\": \"http://twitter.com/sholtomaud\"\n            },{\n              \"_id\":\"04\",\n              \"title\": \"Some instagram\",\n              \"source\": \"@instagram\",\n              \"mdi\": \"Twitter\",\n              \"date\": \"2010-01-01T18:25:43.511Z\",\n              \"snippit\": \"some photo ...\",\n              \"url\": \"http://twitter.com/sholtomaud\"\n            }\n          ]\n    };\n\n    // Unlike the Dutch & Portuguese, the Brits brought the Westminster system with them which, among the colonial systems, was at the time possibly the best procedures available for operating a legislature. But they were as uncivilized, savage, merciless and terroristic barbarians like all the other colonists.\n\ndataModel.on('.|*', function (data){\n    console.log('dataModel data: ',data);\n})\n\nfunction init(callback){\n    dataModel.set('notes',ntf.notes);\n    callback(null, dataModel.get('data') ) \n}\n\ninit( function(error, data){\n        // console.log(\"data changed\", data);\n    }\n);\n\nmodule.exports = {\n    model: dataModel\n};\n","var fastn = require(\"../../fastn\"),\n    latestModel = new fastn.Model();\n\nlatestModel.on('.|*', function (data){\n    console.log('latestModel data: ',data);\n})\n\n\nmodule.exports = {\n    model: latestModel\n};\n","var fastn = require(\"../../fastn\"),\n    menusModel = new fastn.Model({\n        \"showCurrent\": false,\n        \"main\": {\n            \"type\":\"menu\",\n            \"applicationId\":\"_myAppID\",\n            \"companies\":{ \"companyId\" :\"_myCompanyID\"},\n            \"element\":\"modal\",\n            \"class\":\"\",\n            \"mdi\":\"menu\",\n            \"name\":\"mainMenu\",\n            \"label\":\"Main menu\",\n            \"tooltip\":\"\",\n            \"userAccessLevel\":\"0\",\n            \"controls\":[\n                {\n                    \"_id\": \"56937866d4f28a0e49df0bc6\",\n                    \"action\": \"open\",\n                    \"class\": \"bookOpenVariant\",\n                    \"mdi\": \"book-open\",\n                    \"element\": \"i\",\n                    \"enabled\": true,\n                    \"name\": \"resume\",\n                    \"label\": \"resume\",\n                    \"target\": \"resume\",\n                    \"tooltip\": \"\",\n                    \"type\": \"control\",\n                    \"userAccessLevel\": 0\n                },{\n                    \"_id\": \"56937866d4f28a0e49df0bc6\",\n                    \"action\": \"open\",\n                    \"class\": \"history\",\n                    \"mdi\": \"history\",\n                    \"element\": \"i\",\n                    \"enabled\": true,\n                    \"name\": \"history\",\n                    \"label\": \"history\",\n                    \"target\": \"history\",\n                    \"tooltip\": \"\",\n                    \"type\": \"control\",\n                    \"userAccessLevel\": 0\n                }\n            ]\n        }\n    });\n\n// {\n//                     \"_id\": \"56937866d4f28a0e49df0bc6\",\n//                     \"action\": \"open\",\n//                     \"class\": \"lightbulb-outline\",\n//                     \"mdi\": \"lightbulb-outline\",\n//                     \"element\": \"i\",\n//                     \"enabled\": true,\n//                     \"name\": \"thoughts\",\n//                     \"label\": \"Thinking aloud\",\n//                     \"target\": \"thoughts\",\n//                     \"tooltip\": \"\",\n//                     \"type\": \"control\",\n//                     \"userAccessLevel\": 0\n//                 },\n\nmenusModel.on('.|*', function (data){\n    console.log('menusModel data: ',data);\n})\n\nfunction set( id ){\n    var visible = id + '.visible';\n    // Controls.get( id, function ( controls ){\n        menusModel.set(visible, 'true' );\n    // })\n}\n\nfunction setCurrentMenu( id ){\n    var menu = menusModel.get( 'menus.' +id );\n    menusModel.set( 'current', menu );\n}\n\n\nfunction get( id , callback ){\n    var control = menusModel.get( id );\n    return callback( null, control );\n}\n\n\nmodule.exports = {\n    model: menusModel,\n    set: set, \n    setCurrentMenu: setCurrentMenu,\n    get: get,\n    show: fastn.binding('current.show').attach(menusModel)\n};\n\n","var fastn = require(\"../../fastn\"),\n    fs = require(\"fs\"),\n    statsModel = new fastn.Model(),\n    stats = {\n    \"stats\":{\n        \"age\":43,\n        \"height\":\"188 cm\",\n        \"mass\":\"99 kg\",\n        // \"embodied mass\": \"~3.923E+4 kg\"\n        \"born\": \"Westminster\",\n        \"residing\": \"Brisbane\"\n    },\n    \"currentPhoto\":\"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\"\n};\n\nstatsModel.on('.|*', function (data){\n    console.log('statsModel data: ',data);\n})\n\nfunction init(callback){\n    statsModel.set('stats',stats.stats);\n    statsModel.set('currentPhoto',stats.currentPhoto);\n    callback(null, statsModel.get('stats') ) \n}\n\ninit( function(error, stats){\n        console.log(\"stats changed\", stats);\n    }\n);\n\nmodule.exports = {\n    model: statsModel\n};\n","module.exports = {\n    // menu:{\n    //      _url: ['{value}', '/{value}'],\n    //     _title: 'Menu'\n    // },\n    home:{\n    \t _url: '/'\n    },\n    history:{\n         _url: 'history',\n        _title: 'History'\n    },\n    page:{\n         _url: 'site/{_id}',\n        _title: 'Page'\n    },\n    info:{\n         _url: 'info',\n        _title: 'Information'\n    },\n    note:{\n         _url: 'note/{_id}',\n        _title: 'Notes to file'\n    },\n    resume:{\n    \t _url: 'resume',\n    \t_title: 'Resume'\n    },\n    menus:{\n        _url: 'menus',\n        _title: 'Menus'\n    }\n\n};","module.exports = {\n    Record : require(\"./record.js\"),\n    Account : require(\"./account.js\")\n}","var db = require(\"../../persistence\").nrds;\n\nfunction login( accountData, callback){\n    db.Account.login( 'login', accountData, function (error, data){\n        if (error){\n            return callback(error);\n        }\n        return callback(null, data);\n    })\n}\n\nfunction createUser( userData, callback){\n    db.Account.create( 'accounts', userData, function (error, data){\n        console.log('createUser', userData, 'data return', data);\n        if (error){\n            return callback(error);\n        }\n        return callback(null, data);\n    })\n}\n\nmodule.exports = {\n    login: login,\n    createUser: createUser \n}","var config = require(\"../../../config\"),\n    db = require(\"../../persistence\")[config.persistence];\n\n// sessionData ,function(error, menus)\n\nfunction get( sessionData, callback ){\n    return callback(null, null); \n\n    // db.Record.get( token, 'menus', userLevel, function (error, menus){\n    //     if (error){\n    //         console.log('services menus get',error);\n    //     }\n    //     console.log('services menus get: ', menus);\n    \n    //     return callback(null, menus); \n    // })\n}\n\nmodule.exports = {\n    get : get\n}\n","var Router = require('route-tree'),\n    EventEmitter = require('events').EventEmitter,\n    debounce = require('debounce');\n\nmodule.exports = function(routes, getActivities, updateRoute){\n    var activityRouter = new EventEmitter(),\n        activities = [],\n        router = new Router(routes);\n\n    router.basePath = window.location.href.match(/(^[^?#]*)\\/.*$/)[1] + '/';\n\n    function addActivity(activity){\n        activities.push(activity);\n\n        updateHash();\n\n        activityRouter.emit('add', activity, activities.length - 1);\n    }\n\n    function updateActivity(activity, index){\n        if(activities.length <= index){\n            return addActivity(activity);\n        }\n\n        activities[index].values = activity.values;\n\n        updateHash();\n\n        activityRouter.emit('update', activities[index], index);\n    }\n\n    function replaceActivity(activity, index){\n        if(activities.length <= index){\n            return addActivity(activity);\n        }\n\n        if(activities[index].name === activity.name){\n            return updateActivity(activity, index);\n        }\n\n        activities[index] = activity;\n\n        updateHash();\n\n        activityRouter.emit('replace', activity, index);\n    }\n\n    function removeActivity(index){\n        if(!activities[index]){\n            return;\n        }\n\n        var activity = activities[index];\n\n        activities.splice(index, 1);\n\n        updateHash();\n\n        activityRouter.emit('remove', activity, index);\n    }\n\n    function getPaths(){\n        return window.location.hash.split('#').slice(1);\n    }\n\n    function buildPath(){\n        var path = '';\n        if(!activities.length){\n            return '#/';\n        }\n        for(var i = 0; i < activities.length; i++){\n            var route = activities[i],\n                href = router.get(route.name, route.values);\n\n            if(!href){\n                console.error('No route was found named \"' + route.name + '\"');\n                continue;\n            }\n\n            path += '#' + href.replace(router.basePath, '');\n        }\n\n        return path;\n    }\n\n    var updateHash = function(){\n        var path = buildPath();\n\n        if(router.basePath + '#' + path !== window.location.href){\n            window.location.hash = path;\n        }\n    };\n\n    var routeCounter = 0;\n\n    function buildRoutes(){\n        var paths = getPaths();\n\n        if(paths.length === 0){\n            paths.push('/');\n        }\n\n        for(var i = 0; i < paths.length; i++){\n            var path = router.resolve(router.basePath, paths[i]),\n                activity = activities[i];\n\n            if(!activity){\n                activity = {\n                    id: routeCounter++,\n                    name: router.find(path),\n                    values: router.values(path)\n                };\n                addActivity(activity);\n            }else{\n                var newName = router.find(path),\n                    newValues = router.values(path);\n\n                replaceActivity({\n                    name: newName,\n                    values: newValues\n                }, i);\n            }\n\n        }\n\n        while(activities.length > i){\n            removeActivity(activities.length - 1);\n        }\n    }\n\n    var updateRoutes = debounce(function(){\n        if(activities.length && buildPath() === window.location.hash){\n            return;\n        }\n        buildRoutes();\n    },10);\n\n    window.addEventListener('hashchange', updateRoutes);\n    window.addEventListener('popstate', updateRoutes);\n\n    activityRouter.router = router,\n\n    activityRouter.add = function(name, values){\n        addActivity({\n            name: name,\n            values: values\n        });\n    };\n\n    activityRouter.replace = function(name, values, index){\n        replaceActivity({\n            name: name,\n            values: values\n        }, index);\n    };\n\n    activityRouter.top = function(name, values){\n        replaceActivity({\n            name: name,\n            values: values\n        }, activities.length - 1);\n    };\n\n    activityRouter.pop = function(){\n        removeActivity(activities.length - 1);\n    };\n\n    activityRouter.reset = function(name, values){\n        while(activities.length > 1){\n            removeActivity(activities.length - 1);\n        }\n\n        replaceActivity({\n            name: name,\n            values: values\n        }, 0);\n    };\n\n    activityRouter.init = updateRoutes;\n\n    return activityRouter;\n}","﻿/* \n  * To Title Case 2.1 – http://individed.com/code/to-title-case/\n  * Copyright © 2008–2013 David Gouch. Licensed under the MIT License.\n */\n\n/*\n * modifications by @rvagg Apr-2014\n */\n\n//String.prototype.toTitleCase = function(){\n\n\nvar smallWords = /^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\\.?|via)$/i;\nmodule.exports = function toTitleCase(str){\n  return titleCase(str, smallWords)\n}\nmodule.exports.toTitleCase = module.exports\n\nvar laxWords = require('./articles').concat(require('./prepositions')).concat(require('./conjunctions'))\n      .concat(smallWords.source.replace(/(^\\^\\(|\\)\\$$)/g, '').split('|'))\n      .concat(['is']) // a personal preference\n  , laxWordsRe = new RegExp('^(' + laxWords.join('|') + ')$', 'i')\n\nmodule.exports.toLaxTitleCase = function toLaxTitleCase(str){\n  return titleCase(str, laxWordsRe)\n}\n\n\nfunction titleCase (str, smallWords) {\n  if (!str)\n    return str\n  return str.replace(/[A-Za-z0-9\\u00C0-\\u00FF]+[^\\s-]*/g, function(match, index, title){\n    if (index > 0 && index + match.length !== title.length &&\n      match.search(smallWords) > -1 && title.charAt(index - 2) !== ':' &&\n      (title.charAt(index + match.length) !== '-' || title.charAt(index - 1) === '-') &&\n      title.charAt(index - 1).search(/[^\\s-]/) < 0) {\n      return match.toLowerCase();\n    }\n\n    if (match.substr(1).search(/[A-Z]|\\../) > -1) {\n      return match;\n    }\n\n    return match.charAt(0).toUpperCase() + match.substr(1);\n  });\n}\n","//  init some vars\nvar month, day, year, newDate;\nvar months = ['\\(ø_ø)/','January','February','March','April','May','June','July','August','September','October','November','December'];\n\nfunction formatDate(date, format, isObj){  //////////////////////  format dates\n    \n    if(isObj){\n        var dateMonth = date.getMonth()+1,\n        dateDay = date.getDate(),\n        dateYear = date.getFullYear();  \n    }else{\n        var inputDate = new Date(date),\n            dateMonth = inputDate.getMonth()+1,\n            dateDay = inputDate.getDate(),\n            dateYear = inputDate.getFullYear();\n    }\n    \n    if(dateDay < 10){\n        dateDay = '0'+dateDay;   \n    }\n    \n    if(format == 'slashed' || format == 'dashed'){  //  does not sync w/ months array (doesn't need to, numeric date format)\n        if(dateMonth < 10){\n            dateMonth = '0'+dateMonth;   \n        }\n    }\n    \n    switch(format){\n        case 'slashed':\n            var newDate = dateMonth+'/'+dateDay+'/'+dateYear;\n            return newDate;\n            break;\n        case 'dashed':\n            var newDate = dateMonth+'-'+dateDay+'-'+dateYear;\n            return newDate;\n            break;\n        case 'mdy':\n            var month = months[dateMonth];\n            var newDate = month+' '+dateDay+', '+dateYear;\n            return newDate;\n            break;\n        case 'dmy':\n            var month = months[dateMonth];\n            var newDate = dateDay+' '+month+', '+dateYear;\n            return newDate;\n            break;\n        default:\n            return errHandler(format, formatArgErr);\n    }\n                \n}\n\nfunction simpleDate (date, format) {   ////////////////    return formatted dates\n    \n    var dash = dashRegex.test(date),\n        slash = slashRegex.test(date),\n        mdy = mdyRegex.test(date),\n        dmy = dmyRegex.test(date);\n    \n    if((date instanceof Date)){\n        \n        try{\n            newDate = formatDate(date, format, true);\n            return newDate;\n        }catch(err){\n            return errHandler(format, formatArgErr);\n        }\n        \n    }\n    \n    switch(format){\n            \n        case 'dashed':\n            \n            if(dash){\n                return errHandler('', sameErr);\n            }else if(slash){\n                newDate = date.replace(/\\//g, '-');\n                return newDate;\n            }else if(mdy || dmy){\n                newDate = formatDate(date, 'dashed');\n                return newDate;\n            }else{\n                return errHandler(date, dateFormatErr); \n            }\n            break;\n            \n        case 'slashed':\n            \n            if(slash){\n                return errHandler('', sameErr);\n            }else if(dash){\n                newDate = date.replace(/-/g, '/');\n                return newDate;\n            }else if(mdy || dmy){\n                newDate = formatDate(date, 'slashed');\n                return newDate;\n            }else{\n                return errHandler(date, dateFormatErr);    \n            }\n            break;\n            \n        case 'mdy':\n            \n            if(dash || slash){\n                newDate = formatDate(date, 'mdy');\n                return newDate;\n            }else if(dmy){\n                newDate = formatDate(date, 'mdy');\n                return newDate;\n            }else if(mdy){\n                return errHandler('', sameErr);\n            }else{\n                return errHandler(date, dateFormatErr);\n            }\n            break;\n            \n        case 'dmy':\n            \n            if(dash || slash){\n                newDate = formatDate(date, 'dmy');\n                return newDate;\n            }else if(mdy){\n                newDate = formatDate(date, 'dmy');\n                return newDate;\n            }else if(dmy){\n                return errHandler('', sameErr);\n            }else{\n                return errHandler(date, dateFormatErr);\n            }\n            break;\n            \n        default:\n            return errHandler(format, formatArgErr);\n            \n    }\n    \n}\n\nfunction errHandler(input, err){\n    \n    if(err == formatArgErr){\n        console.error(formatArgErr.err(input));\n        console.info(formatArgErr.help);\n        return;\n    }else if(err == dateFormatErr){\n        console.error(dateFormatErr.err(input));\n        console.info(dateFormatErr.help);\n        return;\n    }else if(err == sameErr){\n        console.error(sameErr.err);\n        console.info(sameErr.help);\n        return;\n    }\n    \n}\n\nvar dateFormatErr = { err: function(input){return 'ERROR: 1st-Argument __'+input+'__ is not a date'} , help: 'HELP: try [[ XX-XX-XXXX ]], [[ XX/XX/XXXX ]], [[ January 01, 2015 ]], or [[ 01 January, 2015 ]]'}\n\nvar formatArgErr = { err: function(input){return 'ERROR: 2nd-Argument __'+input+'__ is an illegal format'} , help: 'HELP: try slashed, dashed, mdy, & dmy'}\n\nvar sameErr = { err: 'ERROR: 1st/2nd-Arguments are the same format' , help: 'HELP: change the output format, it should not match the format of the date passed' }\n\n//  4 formats (top to bottom): dash, slash, month-day-year, and day-month-year\nvar dashRegex = /^[0-9]{2}-[0-9]{2}-[0-9]{4}/,\n    slashRegex = /^[0-9]{2}\\/[0-9]{2}\\/[0-9]{4}/,\n    mdyRegex = /^[A-z]+\\s+[0-9]{2},+\\s+[0-9]{4}/,\n    dmyRegex = /^[0-9]{2}\\s[A-z]+,\\s[0-9]{4}/;\n\nmodule.exports = { format: simpleDate }","module.exports = [ 'the', 'a', 'an', 'some' ]\n","module.exports = [\n    'a'\n  , 'abaft'\n  , 'aboard'\n  , 'about'\n  , 'above'\n  , 'absent'\n  , 'across'\n  , 'afore'\n  , 'after'\n  , 'against'\n  , 'along'\n  , 'alongside'\n  , 'amid'\n  , 'amidst'\n  , 'among'\n  , 'amongst'\n  , 'an'\n  , 'apropos'\n  , 'apud'\n  , 'around'\n  , 'as'\n  , 'aside'\n  , 'astride'\n  , 'at'\n  , 'athwart'\n  , 'atop'\n  , 'barring'\n  , 'before'\n  , 'behind'\n  , 'below'\n  , 'beneath'\n  , 'beside'\n  , 'besides'\n  , 'between'\n  , 'beyond'\n  , 'but'\n  , 'by'\n  , 'circa'\n  , 'concerning'\n  , 'despite'\n  , 'down'\n  , 'during'\n  , 'except'\n  , 'excluding'\n  , 'failing'\n  , 'following'\n  , 'for'\n  , 'forenenst'\n  , 'from'\n  , 'given'\n  , 'in'\n  , 'including'\n  , 'inside'\n  , 'into'\n  , 'like'\n  , 'mid'\n  , 'midst'\n  , 'minus'\n  , 'modulo'\n  , 'near'\n  , 'next'\n  , 'notwithstanding'\n  , 'o\\''\n  , 'of'\n  , 'off'\n  , 'on'\n  , 'onto'\n  , 'opposite'\n  , 'out'\n  , 'outside'\n  , 'over'\n  , 'pace'\n  , 'past'\n  , 'per'\n  , 'plus'\n  , 'pro'\n  , 'qua'\n  , 'regarding'\n  , 'round'\n  , 'sans'\n  , 'save'\n  , 'since'\n  , 'than'\n  , 'through'\n  , 'throughout'\n  , 'thru'\n  , 'thruout'\n  , 'till'\n  , 'times'\n  , 'to'\n  , 'toward'\n  , 'towards'\n  , 'under'\n  , 'underneath'\n  , 'unlike'\n  , 'until'\n  , 'unto'\n  , 'up'\n  , 'upon'\n  , 'versus'\n  , 'via'\n  , 'vice'\n  , 'vis-à-vis'\n  , 'with'\n  , 'within'\n  , 'without'\n  , 'worth'\n]\n","module.exports = [\n    'as'\n  , 'because'\n  , 'for'\n  , 'and'\n  , 'nor'\n  , 'but'\n  , 'or'\n  , 'yet'\n  , 'so'\n]\n","var intersect = require('./intersect'),\n    arrayProto = [],\n    absolutePath = /^.+?\\:\\/\\//g,\n    formatRegex = /\\{.*?\\}/g,\n    keysRegex = /\\{(.*?)\\}/g,\n    nonNameKey = /^_(.*)$/,\n    sanitiseRegex = /[#-.\\[\\]-^?]/g;\n\nfunction sanitise(string){\n    return string.replace(sanitiseRegex, '\\\\$&');\n}\n\nfunction isRestKey(key){\n    return key.match(/^.*?\\.\\.\\.$/);\n}\n\nfunction isRestToken(token){\n    return token.match(/^{.*?(?:\\.\\.\\.)|(?:\\\\\\.\\\\\\.\\\\\\.)}$/);\n}\n\nfunction formatString(string, values) {\n    values || (values = {});\n\n    return string.replace(/{(.+?)}/g, function (match, key) {\n        if(isRestKey(key)){\n            key = key.slice(0,-3);\n        }\n        return (values[key] === undefined || values[key] === null) ? '' : values[key];\n    });\n}\n\nfunction resolve(rootPath, path){\n    if(!path){\n        return rootPath;\n    }\n    if(path.match(absolutePath)){\n        return path;\n    }\n    return rootPath + path;\n}\n\nfunction Router(routes){\n    this.basePath  = window.location.protocol + '//' + window.location.host;\n    this.routes = routes;\n    this.homeRoute = 'home';\n}\n\nfunction scanRoutes(routes, fn){\n    var route,\n        routeKey,\n        result;\n\n    for(var key in routes){\n        if(key.charAt(0) === '_'){\n            continue;\n        }\n\n        // Scan children first\n        result = scanRoutes(routes[key], fn);\n        if(result != null){\n            return result;\n        }\n        // Scan current route\n        result = fn(routes[key], key);\n        if(result != null){\n            return result;\n        }\n    }\n}\n\nRouter.prototype.currentPath = function(){\n    return window.location.href;\n};\n\nRouter.prototype.details = function(url){\n    var router = this;\n\n    if(url == null){\n        url = this.currentPath();\n    }\n\n    return scanRoutes(this.routes, function(route, routeName){\n        var urls = Array.isArray(route._url) ? route._url : [route._url],\n            bestMatch,\n            mostMatches = 0;\n\n        for(var i = 0; i < urls.length; i++){\n            var routeKey = router.resolve(router.basePath, urls[i]),\n                regex = '^' + sanitise(routeKey).replace(formatRegex, function(item){\n                    if(isRestToken(item)){\n                        return '(.*?)';\n                    }\n                    return '([^/]*?)';\n                }) + '$',\n                match = url.match(regex);\n\n            if(match && match.length > mostMatches){\n                mostMatches = match.length;\n                bestMatch = routeKey;\n            }\n        }\n\n        if(bestMatch == null){\n            return;\n        }\n\n        return {\n            path: url,\n            name: routeName,\n            template: bestMatch\n        };\n    });\n};\n\nRouter.prototype.info = function(name){\n    var router = this;\n\n    return scanRoutes(this.routes, function(route, routeName){\n        if(routeName !== name){\n            return;\n        }\n\n        var info = {\n            name: routeName\n        };\n\n        for(var key in route){\n            var keyNameMatch = key.match(nonNameKey);\n            if(keyNameMatch){\n                info[keyNameMatch[1]] = route[key];\n            }\n        }\n\n        return info;\n    });\n};\n\nRouter.prototype.find = function(url){\n    var details = this.details(url);\n\n    return details && details.name;\n};\n\nRouter.prototype.upOneName = function(name){\n    if(!name){\n        return;\n    }\n\n    return scanRoutes(this.routes, function(route, routeName){\n        if(name in route){\n            return routeName;\n        }\n    }) || this.homeRoute;\n};\n\nRouter.prototype.upOne = function(path){\n    if(path === undefined){\n        path = window.location.href;\n    }\n\n    return this.drill(path, this.upOneName(this.find(path)));\n};\n\nfunction cleanTokens(token){\n    return token.slice(1,-1);\n}\n\nRouter.prototype.getRouteTemplate = function(name, values){\n    var keys = values && typeof values === 'object' && Object.keys(values) || [],\n        routeTemplate = scanRoutes(this.routes, function(route, routeName){\n        if(name === routeName){\n            var result = {\n                route: route\n            };\n\n            if(!Array.isArray(route._url)){\n                result.template = route._url;\n                return result;\n            }\n\n            var urlsByDistance = route._url.slice().sort(function(urlA, urlB){\n                var keysA = (urlA.match(keysRegex) || []).map(cleanTokens),\n                    keysB = (urlB.match(keysRegex) || []).map(cleanTokens),\n                    commonAKeys = intersect(keysA, keys),\n                    commonBKeys = intersect(keysB, keys),\n                    aDistance = Math.abs(commonAKeys.length - keys.length),\n                    bDistance = Math.abs(commonBKeys.length - keys.length);\n\n                return aDistance - bDistance;\n            });\n\n            result.template = urlsByDistance[0] || route._url[0];\n\n            return result;\n        }\n    });\n\n    if(!routeTemplate){\n        return;\n    }\n\n    routeTemplate.template = this.resolve(this.basePath, routeTemplate.template);\n\n    return routeTemplate;\n};\n\nRouter.prototype.getTemplate = function(name, values){\n    return this.getRouteTemplate(name, values).template;\n};\n\nRouter.prototype.get = function(name, values){\n    var routeTemplate = this.getRouteTemplate(name, values);\n\n    if(!routeTemplate){\n        return null;\n    }\n\n    values || (values = {});\n\n    if(routeTemplate.route._defaults){\n        for(var key in routeTemplate.route._defaults){\n            var defaultValue = routeTemplate.route._defaults[key];\n            if(typeof defaultValue === 'function'){\n                defaultValue = defaultValue();\n            }\n            values[key] || (values[key] = defaultValue);\n        }\n    }\n\n    return formatString(routeTemplate.template, values);\n};\n\nRouter.prototype.isIn = function(childName, parentName){\n    var currentRoute = childName,\n        lastRoute;\n\n    while(currentRoute !== lastRoute && currentRoute !== parentName){\n        lastRoute = currentRoute;\n        currentRoute = this.upOneName(currentRoute);\n    }\n\n    return currentRoute === parentName;\n};\n\nRouter.prototype.isRoot = function(name){\n    return name in this.routes;\n};\n\nRouter.prototype.values = function(path){\n    var details = this.details.apply(this, arguments),\n        result = {},\n        keys,\n        values;\n\n    if(details == null || details.template == null){\n        return;\n    }\n\n    keys = details.template.match(keysRegex);\n    values = details.path.match('^' + sanitise(details.template).replace(formatRegex, '(.*?)') + '$');\n\n    if(keys && values){\n        keys = keys.map(function(key){\n            if(isRestToken(key)){\n                return key.slice(1,-4);\n            }\n            return key.slice(1,-1);\n        });\n        values = values.slice(1);\n        for(var i = 0; i < keys.length; i++){\n            result[keys[i]] = values[i];\n        }\n    }\n\n    return result;\n};\n\nRouter.prototype.drill = function(url, route, newValues){\n    if(url == null){\n        url = this.currentPath();\n    }\n\n\n    var getArguments = this.values(url);\n\n    if(newValues){\n        for(var key in newValues){\n            getArguments[key] = newValues[key];\n        }\n    }\n\n    return this.get(route, getArguments);\n};\n\nRouter.prototype.resolve = resolve;\n\nmodule.exports = Router;","\n/**\n * Module dependencies.\n */\n\nvar now = require('date-now');\n\n/**\n * Returns a function, that, as long as it continues to be invoked, will not\n * be triggered. The function will be called after it stops being called for\n * N milliseconds. If `immediate` is passed, trigger the function on the\n * leading edge, instead of the trailing.\n *\n * @source underscore.js\n * @see http://unscriptable.com/2009/03/20/debouncing-javascript-methods/\n * @param {Function} function to wrap\n * @param {Number} timeout in ms (`100`)\n * @param {Boolean} whether to execute at the beginning (`false`)\n * @api public\n */\n\nmodule.exports = function debounce(func, wait, immediate){\n  var timeout, args, context, timestamp, result;\n  if (null == wait) wait = 100;\n\n  function later() {\n    var last = now() - timestamp;\n\n    if (last < wait && last > 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) context = args = null;\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = now();\n    var callNow = immediate && !timeout;\n    if (!timeout) timeout = setTimeout(later, wait);\n    if (callNow) {\n      result = func.apply(context, args);\n      context = args = null;\n    }\n\n    return result;\n  };\n};\n","//Should be setup as env variable\nmodule.exports = {\n  url : 'http://localhost:8082',\n  persistence : 'nrds'\n}\n","module.exports = function intersect(arrayA, arrayB, intersector){\n    var results = [];\n\n    function innerCheck(aItem){\n        for (var i = 0; i < arrayB.length; i++) {\n            if(\n                (intersector && intersector(aItem, arrayB[i])) ||\n                (!intersector && aItem === arrayB[i])\n            ){\n                results.push(aItem);\n            }\n        }\n    }\n\n    for (var i = 0; i < arrayA.length; i++) {\n        innerCheck(arrayA[i]);\n    }\n\n    return results;\n};","var config = require(\"../../../config\"),\n    cpjax = require(\"cpjax\");\n\nfunction get( route, id, callback){\n    cpjax({\n        url: config.url + '/'+ route +'/' + id,\n        dataType: 'json',\n        headers:{\n            authorization: token\n        }\n    }, callback);\n}\n\nfunction search(token, route, data, callback){\n    cpjax({\n        url: config.url + '/' + route,\n        dataType: 'json',\n        method: 'POST',\n        data: data,\n        headers:{\n            authorization: token\n        }\n    }, callback);\n}\n\nfunction update(token, route, id, data, callback){\n     cpjax({\n        url: config.url + '/'+ route +'/' + id,\n        method: 'PUT',\n        dataType: 'json',\n        data: data,\n        headers:{\n            authorization: token\n        }\n    }, callback);\n}\n\nfunction create(token, route, data, callback){\n    cpjax({\n        url: config.url + '/' + route,\n        method: 'POST',\n        dataType: 'json',\n        data: data,\n        headers:{\n            authorization: token\n        }\n    }, callback);\n}\n\nfunction remove(token, route, id, callback){\n    cpjax({\n        url: config.url + '/' + route + '/' + id,\n        method: 'PUT',\n        dataType: 'json',\n        headers:{\n            authorization: token\n        }\n    }, callback);\n}\n\nmodule.exports = {\n    get: get,\n    search: search,\n    update: update,\n    create: create,\n    remove: remove\n};","var config = require(\"../../../config\"),\n    cpjax = require(\"cpjax\");\n\nfunction login(route, loginId, callback){\n    cpjax({\n        url: config.url + '/'+ route,\n        dataType: 'json',\n        method: 'POST',\n        data: loginId\n    }, callback);\n}\n\nfunction create(route, userId, callback){\n    cpjax({\n        url: config.url + '/'+ route,\n        dataType: 'json',\n        method: 'POST',\n        data: userId\n    }, callback);\n}\n\nmodule.exports = {\n    login: login,\n    create: create\n};","module.exports = Date.now || now\n\nfunction now() {\n    return new Date().getTime()\n}\n","var Ajax = require('simple-ajax');\n\nmodule.exports = function(settings, callback){\n    if(typeof settings === 'string'){\n        settings = {\n            url: settings\n        };\n    }\n\n    if(typeof settings !== 'object'){\n        throw 'settings must be a string or object';\n    }\n\n    if(typeof callback !== 'function'){\n        throw 'cpjax must be passed a callback as the second parameter';\n    }\n\n    var ajax = new Ajax(settings);\n\n    ajax.on('success', function(event, data) {\n        callback(null, data, event);\n    });\n    ajax.on('error', function(event) {\n        callback(new Error(event.target.responseText), null, event);\n    });\n\n    ajax.send();\n\n    return ajax;\n};","var EventEmitter = require('events').EventEmitter,\n    queryString = require('query-string');\n\nfunction tryParseJson(data){\n    try{\n        return JSON.parse(data);\n    }catch(error){\n        return error;\n    }\n}\n\nfunction timeout(){\n   this.request.abort();\n   this.emit('timeout');\n}\n\nfunction Ajax(settings){\n    var queryStringData,\n        ajax = this;\n\n    if(typeof settings === 'string'){\n        settings = {\n            url: settings\n        };\n    }\n\n    if(typeof settings !== 'object'){\n        settings = {};\n    }\n\n    ajax.settings = settings;\n    ajax.request = new window.XMLHttpRequest();\n    ajax.settings.method = ajax.settings.method || 'get';\n\n    if(ajax.settings.cors){\n        if ('withCredentials' in ajax.request) {\n            ajax.request.withCredentials = !!settings.withCredentials;\n        } else if (typeof XDomainRequest !== 'undefined') {\n            // XDomainRequest only exists in IE, and is IE's way of making CORS requests.\n            ajax.request = new window.XDomainRequest();\n        } else {\n            // Otherwise, CORS is not supported by the browser.\n            ajax.emit('error', new Error('Cors is not supported by this browser'));\n        }\n    }\n\n    if(ajax.settings.cache === false){\n        ajax.settings.data = ajax.settings.data || {};\n        ajax.settings.data._ = new Date().getTime();\n    }\n\n    if(ajax.settings.method.toLowerCase() === 'get' && typeof ajax.settings.data === 'object'){\n        var urlParts = ajax.settings.url.split('?');\n\n        queryStringData = queryString.parse(urlParts[1]);\n\n        for(var key in ajax.settings.data){\n            queryStringData[key] = ajax.settings.data[key];\n        }\n\n        ajax.settings.url = urlParts[0] + '?' + queryString.stringify(queryStringData);\n        ajax.settings.data = null;\n    }\n\n    ajax.request.addEventListener('progress', function(event){\n        ajax.emit('progress', event);\n    }, false);\n\n    ajax.request.addEventListener('load', function(event){\n        var data = event.target.responseText;\n\n        if(ajax.settings.dataType && ajax.settings.dataType.toLowerCase() === 'json'){\n            if(data === ''){\n                data = undefined;\n            }else{\n                data = tryParseJson(data);\n                if(data instanceof Error){\n                    ajax.emit('error', event, data);\n                    return;\n                }\n            }\n        }\n\n        if(event.target.status >= 400){\n            ajax.emit('error', event, data);\n        } else {\n            ajax.emit('success', event, data);\n        }\n\n    }, false);\n\n    ajax.request.addEventListener('error', function(event){\n        ajax.emit('error', event);\n    }, false);\n\n    ajax.request.addEventListener('abort', function(event){\n        ajax.emit('error', event, new Error('Connection Aborted'));\n        ajax.emit('abort', event);\n    }, false);\n\n    ajax.request.addEventListener('loadend', function(event){\n        clearTimeout(this._requestTimeout);\n        ajax.emit('complete', event);\n    }, false);\n\n    ajax.request.open(ajax.settings.method || 'get', ajax.settings.url, true);\n\n    // Set default headers\n    if(ajax.settings.contentType !== false){\n        ajax.request.setRequestHeader('Content-Type', ajax.settings.contentType || 'application/json; charset=utf-8');\n    }\n    ajax.request.setRequestHeader('X-Requested-With', ajax.settings.requestedWith || 'XMLHttpRequest');\n    if(ajax.settings.auth){\n        ajax.request.setRequestHeader('Authorization', ajax.settings.auth);\n    }\n\n    // Set custom headers\n    for(var headerKey in ajax.settings.headers){\n        ajax.request.setRequestHeader(headerKey, ajax.settings.headers[headerKey]);\n    }\n\n    if(ajax.settings.processData !== false && ajax.settings.dataType === 'json'){\n        ajax.settings.data = JSON.stringify(ajax.settings.data);\n    }\n}\n\nAjax.prototype = Object.create(EventEmitter.prototype);\n\nAjax.prototype.send = function(){\n    this._requestTimeout = setTimeout(\n        timeout.bind(this),\n        this.settings.timeout || 120000\n    );\n    this.request.send(this.settings.data && this.settings.data);\n};\n\nmodule.exports = Ajax;","/*!\n\tquery-string\n\tParse and stringify URL query strings\n\thttps://github.com/sindresorhus/query-string\n\tby Sindre Sorhus\n\tMIT License\n*/\n(function () {\n\t'use strict';\n\tvar queryString = {};\n\n\tqueryString.parse = function (str) {\n\t\tif (typeof str !== 'string') {\n\t\t\treturn {};\n\t\t}\n\n\t\tstr = str.trim().replace(/^(\\?|#)/, '');\n\n\t\tif (!str) {\n\t\t\treturn {};\n\t\t}\n\n\t\treturn str.trim().split('&').reduce(function (ret, param) {\n\t\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t\tvar key = parts[0];\n\t\t\tvar val = parts[1];\n\n\t\t\tkey = decodeURIComponent(key);\n\t\t\t// missing `=` should be `null`:\n\t\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\t\tret[key] = val;\n\t\t\t} else if (Array.isArray(ret[key])) {\n\t\t\t\tret[key].push(val);\n\t\t\t} else {\n\t\t\t\tret[key] = [ret[key], val];\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}, {});\n\t};\n\n\tqueryString.stringify = function (obj) {\n\t\treturn obj ? Object.keys(obj).map(function (key) {\n\t\t\tvar val = obj[key];\n\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\treturn val.map(function (val2) {\n\t\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val2);\n\t\t\t\t}).join('&');\n\t\t\t}\n\n\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val);\n\t\t}).join('&') : '';\n\t};\n\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(function() { return queryString; });\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = queryString;\n\t} else {\n\t\tself.queryString = queryString;\n\t}\n})();\n"]}